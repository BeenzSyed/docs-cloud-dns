<?xml version="1.0" encoding="utf-8"?>
<?rax-warinfo cdns-v1.0-cdns-getting-started?>
<book xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml"
      version="5.0"
      xml:id="cdns-getting-started"
      xml:base="file:/Users/mike.asthalter/Documents/DNSaaS/docs-cloud-dns/src/main/resources/cdns-getting-started.xml">
    
    <?rax title.font.size="35px" subtitle.font.size="20px"?>
    <title>Rackspace Cloud DNS Getting Started Guide</title>
    <titleabbrev>Rackspace Cloud DNS and Servers Getting Started Guide</titleabbrev>

    <info>
        
        <copyright>
            <year>2011</year>
            <year>2012</year>
            <year>2013</year>
            <year>2014</year>
            <year>2015</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <releaseinfo>API v1.0</releaseinfo>
        <productname>Rackspace Cloud DNS</productname>
        <pubdate>2015-04-20</pubdate>
        <legalnotice role="rs-api">
            <annotation>
                <remark>Copyright details are filled in by the template.</remark>
            </annotation>
        </legalnotice>
        <revhistory>
            <revision>
                <date>2015-04-20</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Edited entire document.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2015-02-25</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Removed London endpoint since we now
                                have one global endpoint for the
                                Rackspace Authentication Service. See
                                <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                    >Generate an authentication token</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2014-10-13</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated JSON response for List
                                domain details call. See <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/List_Domain_Details.html"
                                   >List domain details</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2014-06-26</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated information for locating
                                your account number (tenant ID) in the
                                Cloud Control Panel. See <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                   >Generate an authentication
                                   token</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-12-11</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Revised information for locating
                                your API key and account number in the
                                Cloud Control Panel. See <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                   >Generate an authentication
                                   token</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-11-30</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added additional information for
                                using cURL commands. See <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/DB_using-curl-cli.html">Send API requests using cURL</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-06-17</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated authentication information.
                                See <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                   >Generate an authentication
                                   token</link>.</para>
                        </listitem>
                        <listitem>
                            <para>Updated information for service
                                access endpoints. See <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Service_Access_Endpoints-d1e753.html">Service access endpoints</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-11-08</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated Auth Response examples. See
                                   <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                   >Generate an authentication
                                   token</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-10-09</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated information for cURL
                                command-line options. See <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/DB_using-curl-cli.html"
                                   >Send API requests using
                                   cURL</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-09-06</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Added cover page.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-08-02</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Corrected request examples for
                                authentication. See <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                   >Generate an authentication
                                   token</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-07-20</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated for Auth 2.0. See <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                   >Generate an authentication
                                   token</link>.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-06-28</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated Auth Response examples for
                                   <link
                                   xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                                   >Generate an authentication
                                   token</link> to show the latest
                                service catalog.</para>
                        </listitem>
                        <listitem>
                            <para>Updated syntax highlighting for all
                                examples.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-03-26</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Initial Release.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>           
        </revhistory>
	     <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
	        <raxm:displayname>Getting Started Guide</raxm:displayname>
	        <raxm:product version="v1.0">cdns</raxm:product>
	        <raxm:priority>1</raxm:priority>
	     </raxm:metadata>
    </info>
    <chapter xml:id="DNS_Overview">
        <title>Overview</title>
        <para>This guide provides step-by-step instructions for how to
            use cURL to call the necessary Cloud DNS API operations to
            set up DNS for <trademark>Cloud Servers</trademark>.
            Additional details about Rackspace Cloud DNS can be found
            in the <citetitle>Cloud DNS Developer Guide</citetitle> at
                <link xlink:href="http://docs.rackspace.com/"
                >http://docs.rackspace.com/</link> and at <link
                xlink:href="http://www.rackspace.com/cloud/cloud_hosting_products/dns/"
                >http://www.rackspace.com/cloud/cloud_hosting_products/dns/</link>.</para>
        <section xml:id="Prerequisites_Examples">
            <title>Prerequisites for running examples</title>
            <para>In order to run the examples in this guide, you must
                have the following prerequisites: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Rackspace Cloud account</para>
                    </listitem>
                    <listitem>
                        <para>Rackspace Cloud username and password,
                            as specified during registration</para>
                    </listitem>
                </itemizedlist>
         </para>
        </section>
    </chapter>
    <chapter xml:id="Create_Cloud_Server">
        <title>Create a new cloud server</title>
        <para>This guide requires two cloud servers for setting up DNS
            using the Cloud DNS API. If you will be using two
                <emphasis>existing</emphasis> cloud servers on your
            account for this purpose, skip Steps 1-5 and go directly
            to Step 6 below. Otherwise, follow the steps below:</para>
        <para>Create a cloud server using the cloud servers section of
            the Cloud Control Panel (login here: <link
                xlink:href="http://mycloud.rackspace.com/">Cloud
                Control Panel</link>).</para>
        <note>
            <para>You can also create a cloud server using the Cloud
                Servers API. Refer to the <citetitle>
                    <link xlink:href="http://docs.rackspace.com/"
                        >Cloud Servers API Developer Guide</link>
                </citetitle> for details.</para>
        </note>
        <procedure>
            <title>To create a cloud server using the Cloud Control
                Panel:</title>
            <step>
                <para>Click <guimenuitem>Servers</guimenuitem> to view
                    the Cloud Servers page.</para>
            </step>
            <step>
                <para> Using the <guimenu>Region</guimenu> drop-down
                    menu, select the appropriate region, depending on
                    whether you want to create a first generation
                    cloud server or a next generation cloud server.
                    (The type of cloud server does not matter for this
                    exercise.)</para>
            </step>
            <step>
                <para> Select an image from a list of different
                    operating systems, including Linux Distributions
                    and Windows Images.</para>
                <para security="writeronly">
               <inlinemediaobject>
                    <imageobject>
                        <imagedata 
                            fileref="images/Choose_CS_Image_CCP2.png"
                            contentwidth="6in" />
                    </imageobject>
                </inlinemediaobject>
            </para>
            </step>
            <step>
                <para> Specify the <guilabel>Server Name</guilabel>
                    and select a <guilabel>Size</guilabel> for your
                    cloud server, then click <guibutton>Create
                        Server</guibutton>. </para>
            </step>
            <step>
                <para> Repeat steps 2-4 to create a second cloud
                    server.</para>
            </step>
            <step>
                <para>Record the IP addresses listed for your cloud
                    servers below:<itemizedlist>
                        <listitem>
                            <para>FIRST cloud server IP address =
                                _______________________________________ </para>
                        </listitem>
                        <listitem>
                            <para>SECOND cloud server IP address =
                                _______________________________________</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </step>
        </procedure>
    </chapter>
    <chapter xml:id="DB_Sending_API_Requests">
        <title>Send requests to the API</title>
        <para>You have several options for sending requests through an
            API: </para>
        <itemizedlist spacing="compact">
            <listitem>
                <para>Developers and testers may prefer to use cURL,
                    the command-line tool from <link xlink:href="http://curl.haxx.se/">http://curl.haxx.se/</link>. </para>
                <para>With cURL you can send HTTP requests and receive
                    responses back from the command line. </para>
            </listitem>
            <listitem>
                <para>If you like to use a more graphical interface,
                    the REST client for Firefox also works well for
                    testing and trying out commands, see <link xlink:href="https://addons.mozilla.org/en-US/firefox/addon/restclient/">https://addons.mozilla.org/en-US/firefox/addon/restclient/</link>. </para>
            </listitem>
            <listitem>
                <para>You can also download and install rest-client, a
                    Java application to test ReSTful web services,
                    from <link xlink:href="http://code.google.com/p/rest-client/">http://code.google.com/p/rest-client/</link>. </para>
            </listitem>
        </itemizedlist>
        <section xml:id="DB_using-curl-cli">
            <title>Send API requests using cURL</title>
            <para>cURL is a command-line tool that is available on
                most UNIX®-like environments and Mac OS X® and can be
                downloaded for Windows® in order to interact with the
                REST interfaces. For more information on cURL, visit
                    <link xlink:href="http://curl.haxx.se/">http://curl.haxx.se/</link>. </para>
            <para>cURL allows you to transmit and receive HTTP requests and responses from the
                command-line or from within a shell script. This makes it possible to work with the REST API
                directly without using one of the client APIs. </para>
            <para>The following cURL command-line options are used in
                this guide to run the examples:</para>
            <table xml:id="curl_options" rules="all" width="75%">
                <caption>cURL command-line options</caption>
                <thead>
                    <tr>
                        <th>Option</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <option>-d</option>
                        </td>
                        <td>
                            <para>Sends the specified data in a <command>POST</command>
                                request to the HTTP server. Use this
                                option to send a JSON or XML request
                                body to the server.</para>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <option>-H</option>
                        </td>
                        <td>
                            <para>Specifies an extra HTTP header in
                                the request. You can specify any
                                number of extra headers. Precede each
                                header with the <option>-H</option>
                                option. </para>
                            <para>Common headers in Rackspace API
                                requests are:<itemizedlist>
                                   <listitem>
                                   <para>
                                 <literal>Content-Type</literal>.
                                   Required for operations with a
                                   request body. </para>
                                   <para>Specifies the format of the
                                   request body. The syntax for the
                                   <literal>Content-Type</literal>
                                   header is:</para>
                                   <screen>Content-Type: application/format</screen>
                                   <para>Where
                                   <parameter>format</parameter> is
                                   either <literal>json</literal> or
                                   <literal>xml</literal>.</para>
                                   </listitem>
                                   <listitem>
                                   <para>
                                 <literal>X-Auth-Project-Id</literal>.
                                   Optional. Specifies the project ID,
                                   which can be your account number or
                                   another value.</para>
                                   </listitem>
                                   <listitem>
                                   <para>
                                 <literal>Accept</literal>.
                                   Optional. </para>
                                   <para>Specifies the format of the
                                   response body. The syntax for the
                                   <literal>Accept</literal> header
                                   is:</para>
                                   <screen>Accept: application/format</screen>
                                   <para>Where
                                   <parameter>format</parameter> is
                                   either <literal>json</literal> or
                                   <literal>xml</literal>. Default is
                                   <literal>json</literal>.</para>
                                   </listitem>
                                   <listitem>
                                   <para>
                                 <literal>X-Auth-Token</literal>.
                                   Required. Specifies the
                                   authentication token.</para>
                                   </listitem>
                                </itemizedlist>
                     </para>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <option>-i</option>
                        </td>
                        <td>
                            <para>Includes the HTTP header in the
                                output. </para>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <option>-s</option>
                        </td>
                        <td>
                            <para>Silent or quiet mode. Does not show
                                progress or error messages. Makes cURL mute.<note>
                                   <para>If your cURL command is not
                                   generating any output, try
                                   replacing the <code>-s</code>
                                   option with <code>-i</code>.</para>
                                </note>
                            </para>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <option>-X</option>
                        </td>
                        <td>
                            <para>Specifies the request method to use
                                when communicating with the HTTP
                                server. The specified request is used
                                instead of the default method, which
                                is <command>GET</command>. </para>
                        </td>
                    </tr>
                </tbody>
            </table>
            <note>
                <title>ppxml</title>
                <para>For commands that return an XML response, you
                    can append the following code to the command to
                    call <code>ppxml</code> to pretty-print output: </para>
                <programlisting language="bash" role="gutter: false">| ppxml</programlisting>
                <para>If you do not want to pretty-print XML output,
                    omit this code. </para>
                <para>In order to use <code>ppxml</code>, you need to
                    set the <code>ppxml</code> alias as
                    follows:</para>
                <programlisting language="bash" role="gutter: false">$ alias ppxml='python -c "import sys, xml.dom.minidom; print xml.dom.minidom.parseString(sys.stdin.read()).toprettyxml()"'</programlisting>
            </note>
            <note xml:id="json_tool">
                <title>json.tool</title>
                <para>For commands that return a JSON response, you
                    can append the following code to the command to
                    call the json.tool to pretty-print output: </para>
                <programlisting language="bash" role="gutter: false">| python -m json.tool</programlisting>
                <para>To use the json.tool, import the json module.
                    For information about the json.tool, see <link xlink:href="http://docs.python.org/2/library/json.html">json — JSON encoder and decoder</link>. </para>
                <para>If you do not want to pretty-print JSON output,
                    omit this code. </para>
            </note>
        </section>
        <section xml:id="DB_copy_paste_examples">
            <title>Copying and pasting cURL request examples into a
                terminal window</title>
            <para>To run the cURL request examples shown in this guide
                on Linux or Mac systems, select the desired example
                from the HTML version of this guide by clicking the
                Select Text icon to the right of the example and then
                select Edit-&gt;Copy. Then paste it into an ASCII editor
                (for example <emphasis role="bold">vi</emphasis> or
                    <emphasis role="bold">TextEdit</emphasis>). Next
                modify the example with your required account
                information and so forth, as detailed in this
                guide.</para>
            <note>
                <para>The carriage returns in the cURL request
                    examples that are part of the cURL syntax are
                    escaped with a backslash ('\') in order to avoid
                    prematurely terminating the command. However you
                    should not escape carriage returns inside the XML
                    or JSON message within the command.</para>
            </note>
            <para>Consider the following cURL authenticate:
                XML request example that is described in detail in <link
                    xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                    >Generate an authentication token</link>:</para>
            <example>
                <title>cURL authenticate: XML request</title>
                <?dbfo keep-together="always"?>
                <screen language="bash">curl -i -d \
'&lt;?xml version="1.0" encoding="UTF-8"?&gt;  
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="bold">your_username</emphasis>"     
        apiKey="<emphasis role="bold">your_api_key</emphasis>"/&gt;   
 &lt;/auth&gt;' \
'https://identity.api.rackspacecloud.com/v2.0/tokens'</screen>
            </example>
            <para>You can see that the lines that are part of the cURL
                command syntax have all been escaped with a backslash
                ('\') to indicate that the command continues on the
                next line:</para>
            <screen language="bash">curl -i -d \
  
   
(... lines within the xml portion of the message are not shown in this example)
(... the example only shows lines that are part of cURL syntax)     
     
    
   
 &lt;/auth&gt;' \
'https://identity.api.rackspacecloud.com/v2.0/tokens'</screen>
            <para>However the lines <emphasis>within</emphasis> the
                xml portion of the message are
                    <emphasis>not</emphasis> escaped with a backslash
                ('\') in order to avoid issues with the xml
                processing:</para>
            <screen language="bash">'&lt;?xml version="1.0" encoding="UTF-8"?&gt;  
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="bold">your_username</emphasis>"     
        apiKey="<emphasis role="bold">your_api_key</emphasis>"/&gt;   
 &lt;/auth&gt;' \
</screen>
            <note>
                <para>The final line of the xml message is escaped
                    since the backslash lies
                        <emphasis>outside</emphasis> the xml message
                    and continues the cURL command to the next
                    line.</para>
            </note>
            <para>After you are finished modifying the text for the
                cURL request example with your information (for
                example <emphasis role="bold">
               <code>your_username</code>
            </emphasis> and
                    <emphasis role="bold">
               <code>your_api_key</code>
            </emphasis>), paste it
                into your terminal window. Then execute the cURL
                command by pressing <guilabel>Enter</guilabel>.</para>
            <para>If you have trouble copying and pasting the examples
                as described, try typing the entire example on one
                long line, removing all the backslash line
                continuation characters.</para>
        </section>
    </chapter>
    <chapter xml:id="Generating_Auth_Token">
        <title>Generate an authentication token</title>
        <para>You need to generate a token whether you use cURL or a
            REST client.</para>
        
        <para>In order to use the REST API, you need to obtain an
            authentication token, which will be passed with each
            request using the <code>X-Auth-Token</code> header. </para>
        <para>The following example demonstrates how to use cURL to
            obtain the authentication token and the account number.
            You need to supply the authentication token and account
            number when making subsequent Cloud DNS API calls.</para>
        <para>Remember to replace the names in the Authenticate
            Request examples below with their respective values:<itemizedlist spacing="compact">
                <listitem>
                    <para>
                  <emphasis role="bold">your_username</emphasis> — The
                        username is your common Rackspace Cloud
                        username, as supplied during
                        registration.</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">your_api_key</emphasis> — The key
                        is your API access key.</para>
                    <para>
                  <emphasis role="bold">To find your API
                            key:</emphasis>
               </para>
                    <orderedlist>
                        <listitem>
                            <para>Log in to the Cloud Control Panel
                                   (<link xlink:href="https://mycloud.rackspace.com">https://mycloud.rackspace.com</link>).</para>
                        </listitem>
                        <listitem>
                            <para>On the upper-right side of the top
                                navigation pane, click your
                                username.</para>
                        </listitem>
                        <listitem>
                            <para>From the menu, select
                                   <guimenuitem>Account
                                   Settings</guimenuitem>.</para>
                        </listitem>
                        <listitem>
                            <para>In the Login Details section of the
                                Account Settings page, locate the
                                   <guilabel>API Key</guilabel> field
                                and click
                                <guibutton>Show</guibutton>.</para>
                        </listitem>
                        <listitem>
                            <para>Copy the value of the API key and
                                paste it into a text editor of your
                                choice.</para>
                        </listitem>
                        <listitem>
                            <para>Click <guibutton>Hide</guibutton> to
                                hide the value of the API key. </para>
                        </listitem>
                    </orderedlist>
                    <para>You also need your cloud account number. In
                        the documentation, the account number is often
                        referred to as your tenant name or tenant ID
                        (technically, the ID is different from the
                        name, but at Rackspace, they are the same
                        thing). Together, three components—your
                        username, your API key, and your tenant ID or
                        cloud account number—form the authentication
                        credentials that are required to connect to
                        the Rackspace cloud. To find your tenant ID or
                        cloud account number, locate your username on
                        the upper-right side of the top navigation
                        pane in the Cloud Control Panel. Click your
                        username to display the menu. The tenant ID or
                        account number is the first item in the
                        menu.</para>
                </listitem>
            </itemizedlist>
      </para>
        <para> Use the following endpoint to access the Authentication
            Service: </para>
        <itemizedlist spacing="compact">
            <listitem>
                <para>
               <link xlink:href="https://identity.api.rackspacecloud.com/v2.0/">https://identity.api.rackspacecloud.com/v2.0/</link>
                </para>
            </listitem>
        </itemizedlist>
        <para>Notice that you authenticate using a special URL for
            Cloud authentication services. For example, you may use
                <code>https://identity.api.rackspacecloud.com/v2.0/tokens</code>,
            as shown in the following authenticate request examples.
            Note that the <code>v2.0</code> component in the URL
            indicates that you are using version 2.0 of the Cloud
            Identity API.</para>
        <example>
            <title>cURL authenticate: XML request</title>
            <?dbfo keep-together="always"?>
            <screen language="bash">curl -s -d \
'&lt;?xml version="1.0" encoding="UTF-8"?&gt;  
&lt;auth&gt;
   &lt;apiKeyCredentials
      xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"
         username="<emphasis role="bold">your_username</emphasis>" 
         apiKey="<emphasis role="bold">your_api_key</emphasis>"/&gt;
&lt;/auth&gt;' \
-H 'Content-Type: application/xml' \
-H 'Accept: application/xml' \
'https://identity.api.rackspacecloud.com/v2.0/tokens' | ppxml</screen>
        </example>
        <example>
            <title>cURL authenticate: JSON request</title>
            <?dbfo keep-together="always"?>
            <screen language="bash">curl -s -d \
'{
    "auth":
    {
       "RAX-KSKEY:apiKeyCredentials":
       {  
          "username": "<emphasis role="bold">your_username</emphasis>",  
          "apiKey": "<emphasis role="bold">your_api_key</emphasis>"}
    }  
}' \
-H 'Content-Type: application/json' \
'https://identity.api.rackspacecloud.com/v2.0/tokens' | python -m json.tool</screen>
        </example>
        <example>
            <title>Authenticate: XML response</title>
            <programlisting language="xml">HTTP/1.1 200 OK
Content-Type: application/xml; charset=UTF-8
Content-Length: 477
Date: Thu, 12 Apr 2012 18:50:20 GMT

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;access xmlns:os-ksadm="http://docs.openstack.org/identity/api/ext/OS-KSADM/v1.0"
  xmlns="http://docs.openstack.org/identity/api/v2.0"
  xmlns:rax-kskey="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"
  xmlns:rax-ksqa="http://docs.rackspace.com/identity/api/ext/RAX-KSQA/v1.0"
  xmlns:common="http://docs.openstack.org/common/api/v1.0"
  xmlns:ksgrp="http://docs.rackspace.com/identity/api/ext/RAX-KSGRP/v1.0"
  xmlns:rax-kscatalog="http://docs.openstack.org/identity/api/ext/OS-KSCATALOG/v1.0"
  xmlns:atom="http://www.w3.org/2005/Atom"&gt;
  &lt;token id="vvvvvvvv-wwww-xxxx-yyyy-zzzzzzzzzzzz" expires="2011-12-08T22:51:02.000-06:00"/&gt;
  &lt;user id="123456" name="jsmith" rax-auth:defaultRegion="DFW"&gt;
    &lt;roles&gt;
      &lt;role id="identity:admin" name="identity:admin" description="Admin Role."/&gt;
      &lt;role id="identity:default" name="identity:default" description="Default Role."/&gt;
    &lt;/roles&gt;
  &lt;/user&gt;
  &lt;serviceCatalog&gt;
    &lt;service type="rax:database" name="cloudDatabases"&gt;
      &lt;endpoint region="DFW" tenantId="1100111" publicURL="https://dfw.databases.api.rackspacecloud.com/v1.0/1100111"/&gt;
      &lt;endpoint region="ORD" tenantId="1100111" publicURL="https://ord.databases.api.rackspacecloud.com/v1.0/1100111"/&gt;
    &lt;/service&gt;
    &lt;service type="rax:load-balancer" name="cloudLoadBalancers"&gt;
      &lt;endpoint region="DFW" tenantId="1100111" publicURL="https://dfw.loadbalancers.api.rackspacecloud.com/v1.0/1100111"/&gt;
      &lt;endpoint region="ORD" tenantId="1100111" publicURL="https://ord.loadbalancers.api.rackspacecloud.com/v1.0/1100111"/&gt;
    &lt;/service&gt;
    &lt;service type="compute" name="cloudServersOpenStack"&gt;
      &lt;endpoint region="DFW" tenantId="1100111"
        publicURL="https://dfw.servers.api.rackspacecloud.com/v2/1100111"&gt;
        &lt;version id="2" info="https://dfw.servers.api.rackspacecloud.com/v2/"
          list="https://dfw.servers.api.rackspacecloud.com/" /&gt;
      &lt;/endpoint&gt;
      &lt;endpoint region="ORD" tenantId="1100111"
        publicURL="https://ord.servers.api.rackspacecloud.com/v2/1100111"&gt;
        &lt;version id="2" info="https://ord.servers.api.rackspacecloud.com/v2/"
          list="https://ord.servers.api.rackspacecloud.com/" /&gt;
      &lt;/endpoint&gt;
    &lt;/service&gt;
    &lt;service type="compute" name="cloudServers"&gt;
      &lt;endpoint tenantId="1100111"
        publicURL="https://servers.api.rackspacecloud.com/v1.0/1100111"&gt;
        &lt;version id="1.0"
          info="https://servers.api.rackspacecloud.com/v1.0/"
          list="https://servers.api.rackspacecloud.com/"/&gt;
      &lt;/endpoint&gt;
    &lt;/service&gt;
    &lt;service type="object-store" name="cloudFiles"&gt;
      &lt;endpoint region="DFW"
        tenantId="MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"
        publicURL="https://storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"
        internalURL="https://snet-storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"/&gt;
      &lt;endpoint region="ORD"
        tenantId="MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"
        publicURL="https://storage101.ord1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"
        internalURL="https://snet-storage101.ord1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"/&gt;
    &lt;/service&gt;
    &lt;service type="rax:object-cdn" name="cloudFilesCDN"&gt;
      &lt;endpoint region="DFW"
        tenantId="MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"
        publicURL="https://cdn1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"/&gt; 
      &lt;endpoint region="ORD"
        tenantId="MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"
        publicURL="https://cdn2.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"/&gt;    
    &lt;/service&gt;
    &lt;service type="rax:dns" name="cloudDNS"&gt;
      &lt;endpoint tenantId="1100111"
        publicURL="https://dns.api.rackspacecloud.com/v1.0/1100111"/&gt;
    &lt;/service&gt;
  &lt;/serviceCatalog&gt;
&lt;/access&gt;
</programlisting>
        </example>
        <example>
            <title>Authenticate: JSON response</title>
            <programlisting language="json">HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8
Content-Length: 477
Date: Thu, 12 Apr 2012 18:45:13 GMT

{
    "access": {
     
        "token": {
            "expires": "2011-12-08T22:51:02.000-06:00", 
            "id": "vvvvvvvv-wwww-xxxx-yyyy-zzzzzzzzzzzz"
        }, 
        "user": {
            "id": "123456", 
            "name": "jsmith",
            "RAX-AUTH:defaultRegion": "DFW",
            "roles": [
                {
                    "description": "Admin Role.", 
                    "id": "identity:admin", 
                    "name": "identity:admin"
                }, 
                {
                    "description": "Default Role.", 
                    "id": "identity:default", 
                    "name": "identity:default"
                }
            ]
        },
        "serviceCatalog": [
            {
                "endpoints": [
                    {
                        "publicURL": "https://dfw.databases.api.rackspacecloud.com/v1.0/1100111", 
                        "region": "DFW", 
                        "tenantId": "1100111"
                    }, 
                    {
                        "publicURL": "https://ord.databases.api.rackspacecloud.com/v1.0/1100111", 
                        "region": "ORD", 
                        "tenantId": "1100111"
                    }
                ], 
                "name": "cloudDatabases", 
                "type": "rax:database"
            },
            {
                "endpoints": [
                    {
                        "publicURL": "https://dfw.loadbalancers.api.rackspacecloud.com/v1.0/1100111", 
                        "region": "DFW", 
                        "tenantId": "1100111"
                    }, 
                    {
                        "publicURL": "https://ord.loadbalancers.api.rackspacecloud.com/v1.0/1100111", 
                        "region": "ORD", 
                        "tenantId": "1100111"
                    }
                ], 
                "name": "cloudLoadBalancers", 
                "type": "rax:load-balancer"
            }, 
            {
                "endpoints": [
                    {
                        "tenantId": "1100111",
                        "region": "DFW",
                        "publicURL": "https://dfw.servers.api.rackspacecloud.com/v2/1100111", 
                        "versionId": "2", 
                        "versionInfo": "https://dfw.servers.api.rackspacecloud.com/v2/", 
                        "versionList": "https://dfw.servers.api.rackspacecloud.com/"
                    },
                    {
                        "tenantId": "1100111",
                        "region": "ORD",
                        "publicURL": "https://ord.servers.api.rackspacecloud.com/v2/1100111", 
                        "versionId": "2", 
                        "versionInfo": "https://ord.servers.api.rackspacecloud.com/v2/", 
                        "versionList": "https://ord.servers.api.rackspacecloud.com/"
                    }
                ],
                "name": "cloudServersOpenStack", 
                "type": "compute"
            },
            {
                "endpoints": [
                    {
                        "tenantId": "1100111", 
                        "publicURL": "https://servers.api.rackspacecloud.com/v1.0/1100111", 
                        "versionId": "1.0", 
                        "versionInfo": "https://servers.api.rackspacecloud.com/v1.0/", 
                        "versionList": "https://servers.api.rackspacecloud.com/"
                    }
                ],
                "name": "cloudServers", 
                "type": "compute"
            }, 
            {
                "endpoints": [
                    {
                        "tenantId": "MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee",
                        "publicURL": "https://storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "internalURL": "https://snet-storage101.dfw1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "region": "DFW" 
                    },
                    {
                        "tenantId": "MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee",
                        "publicURL": "https://storage101.ord1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "internalURL": "https://snet-storage101.ord1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "region": "ORD" 
                    }
                ], 
                "name": "cloudFiles", 
                "type": "object-store"
            }, 
            {
                "endpoints": [  
                    {
                        "tenantId": "MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "publicURL": "https://cdn1.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "region": "DFW"
                    },                
                    {
                        "tenantId": "MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "publicURL": "https://cdn2.clouddrive.com/v1/MossoCloudFS_aaaaaaaa-bbbb-cccc-dddd-eeeeeeee", 
                        "region": "ORD"
                    }
                ],
                "name": "cloudFilesCDN", 
                "type": "rax:object-cdn"
            }, 
            {
                "endpoints": [
                    {
                        "tenantId": "1100111",
                        "publicURL": "https://dns.api.rackspacecloud.com/v1.0/1100111"
                    }
                ],
                "name": "cloudDNS", 
                "type": "rax:dns"
            }
        ]
    }
}
</programlisting>
        </example>
        <para>The authentication token <code>id</code> is returned
            along with an <code>expires</code> attribute that
            specifies when the token expires. </para>
        <note>
            <title>Notes</title>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>For all response examples in this guide, the
                        field values you receive in your responses
                        will vary from those shown here since they
                        will be specific to your account.</para>
                </listitem>
                <listitem>
                    <para>The information shown in the Authenticate
                        Response examples above is for US-based
                        accounts. If you have a UK-based account, you
                        will see the service catalog information for
                        UK-based accounts.</para>
                </listitem>
                <listitem>
                    <para>The <code>id</code> attribute in the
                        Authenticate Response specifies the
                        authentication token. Tokens are valid for a
                        finite duration.</para>
                    <para>Remember to supply your authentication token
                        wherever you see the field <emphasis role="bold">your_auth_token</emphasis> in
                        the examples in this guide.</para>
                </listitem>
                <listitem>
                    <para> The <code>expires</code> attribute denotes
                        the time after which the token will
                        automatically become invalid. A token may be
                        manually revoked before the time identified by
                        the expires attribute; <code>expires</code>
                        predicts a token's maximum possible lifespan
                        but does not guarantee that it will reach that
                        lifespan. Clients are encouraged to cache a
                        token until it expires.</para>
                </listitem>
                <listitem>
                    <para>Applications should be designed to
                        re-authenticate after receiving a 401
                        (Unauthorized) response from a service
                        endpoint.</para>
                </listitem>
            </itemizedlist>
        </note>
        <para>Note that the <code>publicURL</code> endpoint for
                <code>cloudDNS</code>
                (<code>https://dns.api.rackspacecloud.com/v1.0/1100111</code>)
            is also returned in the response.</para>
        <para>You will find the actual account number after the final
            '/' in the <code>publicURL</code> field. In this example,
            you can see that the account number is 1100111. You need
            to specify your account number on the Cloud DNS API calls,
            wherever you see the field <emphasis role="bold"
                >your_acct_id</emphasis> specified in the examples in
            this guide.</para>
        <para>After authentication, you can use cURL to perform <command>GET</command>,
            <command>DELETE</command>, <command>PUT</command>, and <command>POST</command> requests for the Cloud DNS
            API.</para>
        
    </chapter>
    <chapter xml:id="Service_Access_Endpoints-d1e753">
        <title>Service access endpoints</title>
        <para>The DNS service is not a regionalized service. DNS is
            therefore responsible for appropriate replication,
            caching, and overall maintenance of DNS data across
            regional boundaries to other DNS servers.</para>
        <para>You can find the service access endpoint examples for
            Cloud DNS in the table below.</para>
        
        <para>
            <table rules="all">
                <caption>Service access endpoint examples</caption>
                <thead>
                    <tr align="center">
                        
                        <td colspan="4">Endpoint</td>
                    </tr>
                </thead>
                <tbody>
                    <tr align="left">
                        
                        <td colspan="4">
                     <code>https://dns.api.rackspacecloud.com/v1.0/</code>
                     <parameter>1234</parameter>/
                        </td>
                    </tr>
                    <tr align="left">
                        
                        <td colspan="4">
                            <code>https://lon.dns.api.rackspacecloud.com/v1.0/</code>
                     <parameter>1234</parameter>/
                        </td>
                    </tr>
                </tbody>
            </table>
        </para>
        <note>
         <title>Notes</title>
            <itemizedlist>
                <listitem>
                    <para>The service catalog returned in the auth
                        response specifies the correct service access
                        endpoint for your account to use for accessing
                        DNS. Use the service name (cloudDNS) to locate
                        the correct endpoint in the service catalog.
                        See the auth response examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication
                        token</link>.</para>
                </listitem>
                <listitem>
                    <para>All examples in this guide assume that you
                        are operating against the US region.</para>
                </listitem>
            </itemizedlist>
        </note>
        <para>Replace the sample account ID number,
                <parameter>1234</parameter>, with your actual account
            number returned as part of the authentication response.
            Use your actual account number wherever you see the field
                <emphasis role="bold">your_acct_id</emphasis>
            specified in this guide. Refer to <link
                xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                >Generate an authentication token</link>.</para>
        <para>When making a Cloud DNS API call, place the endpoint at
            the beginning of the request URL, for example:
                <code>https://dns.api.rackspacecloud.com/v1.0/</code><emphasis
                role="bold">your_acct_id</emphasis><code>/</code>, as
            you can see in the cURL Create domain request examples in
                <link
                xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Create_Domain.html"
                >Create a domain</link>. Note that the
                <code>v1.0</code> component in the URL indicates that
            you are using version 1.0 of the Cloud DNS API.</para>
    </chapter>
    <chapter xml:id="Create_Domain">
        <title>Create a domain</title>
        <para> The Create domain API call provisions one or more new
            DNS domains under the account specified, based on the
            configuration defined in the request object. If the
            corresponding request cannot be fulfilled due to
            insufficient or invalid data, an <code>HTTP</code>
            <returnvalue>400 (Bad Request)</returnvalue> error
            response will be returned with information regarding the
            nature of the failure in the body of the response.
            Failures in the validation process are non-recoverable and
            require the caller to correct the cause of the failure and
                <command>POST</command> the request again.</para>
        <para> This call returns an <emphasis>asynchronous</emphasis>
            response. In fact, <command>PUT</command>, <command>POST</command>, and <command>DELETE</command> DNS API
            calls are all <emphasis>asynchronous</emphasis>, since
            they may take some time to process. Therefore they return
            202 ACCEPTED responses containing information with a
            callback URL, which allows the progress, status, and/or
            response information of the call to be retrieved at a
            later point in time. </para>
        <para>You need to use the Create domain API call (POST
                <code>/domains</code>) to create a domain with the
            configuration that you specify.</para>
        <para>In this case, assume that you want to create a domain
            with the following configuration:</para>
        <itemizedlist>
            <listitem>
                <para>Domain name=example.com</para>
                <note>
                    <para>The DNS specification reserves "example.com"
                        for documentation purposes. Therefore you will
                        need to substitute your own domain name in
                        order for the examples to work with the Cloud
                        DNS API.</para>
                </note>
            </listitem>
            <listitem>
                <para>ttl=3600</para>
            </listitem>
            <listitem>
                <para>emailAddress="sample@rackspace.com"</para>
            </listitem>
            <listitem>
                <para>comment="Optional domain comment..."</para>
            </listitem>
            <listitem>
                <para>With subdomains as follows:<itemizedlist>
                        <listitem>
                            <para>Domain name =
                                sub1.example.com</para>
                            <para>
                                <note>
                                   <para>Remember to modify the domain
                                   name "sub1.example.com" listed
                                   above to conform to the name you
                                   have chosen for your domain, for
                                   example: "sub1.&lt;<emphasis role="bold">your_domain_name</emphasis>&gt;".</para>
                                </note>
                            </para>
                        </listitem>
                        <listitem>
                            <para>emailAddress="sample@rackspace.com"</para>
                        </listitem>
                        <listitem>
                            <para>comment="1st sample
                                subdomain"</para>
                        </listitem>
                    </itemizedlist>
               <itemizedlist>
                        <listitem>
                            <para>Domain name =
                                sub2.example.com</para>
                            <para>
                                <note>
                                   <para>Remember to modify the domain
                                   name "sub2.example.com" listed
                                   above to conform to the name you
                                   have chosen for your domain, for
                                   example: "sub2.&lt;<emphasis role="bold">your_domain_name</emphasis>&gt;".</para>
                                </note>
                            </para>
                        </listitem>
                        <listitem>
                            <para>emailAddress="sample@rackspace.com"</para>
                        </listitem>
                        <listitem>
                            <para>comment="2nd sample
                                subdomain"</para>
                        </listitem>
                    </itemizedlist>
            </para>
            </listitem>
        </itemizedlist>
        <note>
            <para>Although you could add records for your domain in
                this Create domain call, to keep things simple, you
                will add the records using the separate Add records
                call in <link
                    xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Add_Records.html"
                    >Add records</link> instead.</para>
        </note>
        <para>The following examples show the cURL requests for Create
            domain:</para>
        <example>
            <title>cURL Create domain: XML request</title>
            <programlisting language="bash">curl -s -d \
'&lt;domains xmlns:ns2="http://docs.rackspacecloud.com/dns/api/management/v1.0"
xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" xmlns:ns3="http://www.w3.
org/2005/Atom"&gt;
    &lt;domain name="<emphasis role="bold">your_domain_name</emphasis>" ttl="3600" emailAddress="sample@rackspace.com"
comment="Optional domain comment..."&gt;
        &lt;subdomains&gt;
            &lt;domain name="sub1.<emphasis role="bold">your_domain_name</emphasis>" emailAddress="sample@rackspace.
com" comment="1st sample subdomain"/&gt;
            &lt;domain name="sub2.<emphasis role="bold">your_domain_name</emphasis>" emailAddress="sample@rackspace.
com" comment="1st sample subdomain"/&gt;
        &lt;/subdomains&gt;
    &lt;/domain&gt;
&lt;/domains&gt;' \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/xml' \
-H 'Accept: application/xml' \            
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains' | ppxml</programlisting>
        </example>
        <example>
            <title>cURL Create domain: JSON request</title>
            <programlisting language="bash">curl -s -d \
'{
    "domains" : [ {
        "name" : "<emphasis role="bold">your_name</emphasis>_example.com",
        "comment" : "Optional domain comment...",
        "subdomains" : {
            "domains" : [ {
                "name" : "sub1.<emphasis role="bold">your_name</emphasis>_example.com",
                "comment" : "1st sample subdomain",
                "emailAddress" : "sample@rackspace.com"
            }, {
                "name" : "sub2.<emphasis role="bold">your_name</emphasis>_example.com",
                "comment" : "1st sample subdomain",
                "emailAddress" : "sample@rackspace.com"

            } ]
        },
        "ttl" : 3600,
        "emailAddress" : "sample@rackspace.com"
} ]
}' \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/json' \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains' | python -m json.tool</programlisting>
        </example>
        <para>Remember to replace the names in the examples above with
            their actual respective values for all the cURL examples
            that follow:<itemizedlist spacing="compact">
                <listitem>
                    <para>
                  <emphasis role="bold">your_name</emphasis>
                        — use some variant of your name to
                        ensure a unique domain name when it is used as
                        a prefix for your domain name (<emphasis role="bold">your_name</emphasis>_example.com).</para>
                </listitem>
                <listitem>
                    <para>
                        <emphasis role="bold"
                            >your_auth_token</emphasis> — as returned
                        in your authentication response (see the
                        response examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication
                        token</link>)</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">your_acct_id</emphasis> — as
                        returned in your authentication response (must
                        be replaced in the request URL)</para>
                </listitem>
            </itemizedlist>
      </para>
        <para>The following examples show the initial asynchronous
            responses for Create domain:</para>
        <example>
            <title>Create domain: initial asynchronous XML
                response</title>
            <programlisting language="xml">HTTP/1.1 202 Accepted
X-API-VERSION: 1.0.13
Content-Type: application/xml
Date: Thu, 15 Mar 2012 16:21:49 GMT
Content-Length: 1309
Server: Jetty(7.3.1.v20110307)

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;asyncResponse xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" 
    xmlns:ns2="http://www.w3.org/2005/Atom" 
    xmlns:ns3="http://docs.rackspacecloud.com/dns/api/management/v1.0"&gt;
    &lt;jobId&gt;c1b06e08-d7bd-4708-982e-30da5e64ce28&lt;/jobId&gt;
    &lt;callbackUrl&gt;https://dns.api.rackspacecloud.com/v1.0/1234/status/c1b06e08-d7bd-4708-982e-30da5e64ce28&lt;/callbackUrl&gt;
    &lt;status&gt;RUNNING&lt;/status&gt;
    &lt;requestUrl&gt;http://dns.api.rackspacecloud.com/v1.0/1234/domains&lt;/requestUrl&gt;
    &lt;verb&gt;POST&lt;/verb&gt;
    &lt;request&gt; &amp;lt;domains xmlns:ns2=&amp;quot;http://docs.rackspacecloud.com/dns/api/management/v1.0&amp;quot;
    xmlns=&amp;quot;http://docs.rackspacecloud.com/dns/api/v1.0&amp;quot; xmlns:ns3=&amp;quot;http://www.w3.
    org/2005/Atom&amp;quot;&amp;gt;
    &amp;lt;domain name=&amp;quot;example.com&amp;quot; ttl=&amp;quot;3600&amp;quot; emailAddress=&amp;quot;sample@rackspace.com&amp;quot;
    comment=&amp;quot;Optional domain comment...&amp;quot;&amp;gt;
    &amp;lt;subdomains&amp;gt;
    &amp;lt;domain name=&amp;quot;sub1.example.com&amp;quot; emailAddress=&amp;quot;sample@rackspace.com&amp;quot; comment=&amp;quot;1st sample subdomain&amp;quot;/&amp;gt;
    &amp;lt;domain name=&amp;quot;sub2.example.com&amp;quot; emailAddress=&amp;quot;sample@rackspace.com&amp;quot; comment=&amp;quot;1st sample subdomain&amp;quot;/&amp;gt;
    &amp;lt;/subdomains&amp;gt;
    &amp;lt;/domain&amp;gt;
    &amp;lt;/domains&amp;gt;
    &lt;/request&gt;
&lt;/asyncResponse&gt;
</programlisting>
        </example>
        <note>
            <para>The <code>&lt;request&gt;</code> in the XML response
                comes back with the request you sent, with the HTML
                entities encoded (&amp;lt; &amp;gt;
                &amp;quot;).</para>
        </note>
        <example>
            <title>Create domain: initial asynchronous JSON
                response</title>
            <programlisting language="json">HTTP/1.1 202 Accepted
X-API-VERSION: 1.0.13
Content-Type: application/json
Date: Thu, 15 Mar 2012 18:08:15 GMT
Content-Length: 931
Server: Jetty(7.3.1.v20110307)

{
"callbackUrl": "https://dns.api.rackspacecloud.com/v1.0/1234/status/ec180c96-5488-4b29-8d25-ce3e2985afd4", 
  "jobId": "ec180c96-5488-4b29-8d25-ce3e2985afd4", 
  "request": "{\n    \"domains\" : [ {\n        \"name\" : \"example.com\",   \n        \"comment\" : \"Optional domain comment...\",   \n        \"subdomains\" : {\n            \"domains\" : [ {\n                \"name\" : \"sub1.example.com\",\n                \"comment\" : \"1st sample subdomain\",\n                \"emailAddress\" : \"sample@rackspace.com\"\n            }, {\n                \"name\" : \"sub2.example.com\",\n                \"comment\" : \"1st sample subdomain\",\n                \"emailAddress\" : \"sample@rackspace.com\"\n\n            } ]\n        },\n        \"ttl\" : 3600,\n        \"emailAddress\" : \"sample@rackspace.com\"\n} ]\n}", 
  "requestUrl": "http://dns.api.rackspacecloud.com/v1.0/1234/domains", 
  "status": "RUNNING", 
  "verb": "POST"
}
</programlisting>
        </example>
        <para>Notice that you can see the 202 ACCEPTED responses
            containing information with a callback URL
                (<code>callbackUrl</code>), which allows the progress,
            status, and/or response information of the call to be
            retrieved at a later point in time. When a request is made
            to the callback URL provided and the job is still running,
            another 202 ACCEPTED response is returned with the same
            information as the previous one. If the request is
            successful, the status is COMPLETED.</para>
        <para>The following examples show the requests to get the
            status for the job using the <code>jobID</code> and
                <code>callbackUrl</code> provided (which you can see
            in the previous example). Note that the <emphasis role="bold">job_id</emphasis> is automatically
            inserted for you at the end of the callbackUrl, so you can
            just copy the entire callbackUrl and place it within the
            single quotes at the end of the cURL command. Then follow
            it with the <code>?showDetails=true</code>
            parameter.</para>
        <para>The following examples show the cURL status requests for
            Create domain:</para>
        <example>
            <title>cURL Create domain asynchronous status: XML
                request</title>
            <programlisting language="bash">curl -i  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/xml' \
-H 'Accept: application/xml' \            
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/status/<emphasis role="bold">job_id</emphasis>?showDetails=true'</programlisting>
        </example>
        <example>
            <title>cURL Create domain asynchronous status: JSON
                request</title>
            <programlisting language="bash">curl -i  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/json' \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/status/<emphasis role="bold">job_id</emphasis>?showDetails=true'</programlisting>
        </example>
        <para>Adding the parameter <code>?showDetails=true</code> at
            the end of the end of the URL after the <emphasis
                role="bold">job_id</emphasis> causes the response to
            display all details for the asynchronous request,
            including the results, if they are available. Omitting
            this parameter causes just basic details to be displayed
            (jobId, callbackUrl, and status attributes).</para>
        <para>Remember to replace the names in the examples above with
            their actual respective values for all the cURL examples
            that follow:<itemizedlist spacing="compact">
                <listitem>
                    <para>
                        <emphasis role="bold"
                            >your_auth_token</emphasis> — as returned
                        in your authentication response (see the
                        response examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication
                        token</link>)</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">your_acct_id</emphasis> — as
                        returned in your authentication response (must
                        be replaced in the request URL)</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">job_id</emphasis>
                        — as returned in your Create Domain
                        response (must be replaced in the request
                        URL)</para>
                </listitem>
            </itemizedlist>
      </para>
        <para>
            <note>
                <para> The following examples show the
                        <emphasis>final</emphasis> successful response
                    for the asynchronous call. Refer to <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-devguide/content/sync_asynch_responses.html">http://docs.rackspace.com/cdns/api/v1.0/cdns-devguide/content/sync_asynch_responses.html</link>
                    for more information about how the asynchronous
                    call works.</para>
            </note>
        </para>
        <para>The following examples show the final successful
            responses for Create domain:</para>
        <example>
            <title>Create domain: XML final successful
                response</title>
            <programlisting language="xml">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/xml
Date: Thu, 15 Mar 2012 17:56:10 GMT
Content-Length: 2400
Server: Jetty(7.3.1.v20110307)

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;asyncResponse xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" 
    xmlns:ns2="http://www.w3.org/2005/Atom" 
    xmlns:ns3="http://docs.rackspacecloud.com/dns/api/management/v1.0"&gt;
    &lt;jobId&gt;b32efdff-e217-4a97-9851-aac406811a38&lt;/jobId&gt;
    &lt;callbackUrl&gt;https://dns.api.rackspacecloud.com/v1.0/1234/status/b32efdff-e217-4a97-9851-aac406811a38&lt;/callbackUrl&gt;
    &lt;status&gt;COMPLETED&lt;/status&gt;
    &lt;requestUrl&gt;http://dns.api.rackspacecloud.com/v1.0/1234/domains&lt;/requestUrl&gt;
    &lt;verb&gt;POST&lt;/verb&gt;
    &lt;request&gt; &amp;lt;domains xmlns:ns2=&amp;quot;http://docs.rackspacecloud.com/dns/api/management/v1.0&amp;quot;
    xmlns=&amp;quot;http://docs.rackspacecloud.com/dns/api/v1.0&amp;quot; xmlns:ns3=&amp;quot;http://www.w3.
    org/2005/Atom&amp;quot;&amp;gt;
    &amp;lt;domain name=&amp;quot;example.com&amp;quot; ttl=&amp;quot;3600&amp;quot; emailAddress=&amp;quot;sample@rackspace.com&amp;quot;
    comment=&amp;quot;Optional domain comment...&amp;quot;&amp;gt;
    &amp;lt;subdomains&amp;gt;
    &amp;lt;domain name=&amp;quot;sub1.example.com&amp;quot; emailAddress=&amp;quot;sample@rackspace.com&amp;quot; comment=&amp;quot;1st sample subdomain&amp;quot;/&amp;gt;
    &amp;lt;domain name=&amp;quot;sub2.example.com&amp;quot; emailAddress=&amp;quot;sample@rackspace.com&amp;quot; comment=&amp;quot;1st sample subdomain&amp;quot;/&amp;gt;
    &amp;lt;/subdomains&amp;gt;
    &amp;lt;/domain&amp;gt;
    &amp;lt;/domains&amp;gt;
    &lt;/request&gt;
    &lt;response xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="domains"&gt;
        &lt;domain id="3191305" accountId="1234" name="example.com" ttl="3600" 
            emailAddress="sample@rackspace.com" updated="2012-03-15T17:53:05Z" 
            created="2012-03-15T17:53:05Z" comment="Optional domain comment..."&gt;
            &lt;nameservers&gt;
                &lt;nameserver name="dns1.stabletransit.com"/&gt;
                &lt;nameserver name="dns2.stabletransit.com"/&gt;
            &lt;/nameservers&gt;
            &lt;subdomains&gt;
                &lt;domain id="3191307" accountId="1234" name="sub1.example.com" ttl="3600" 
                    emailAddress="sample@rackspace.com" updated="2012-03-15T17:53:05Z" 
                    created="2012-03-15T17:53:05Z" comment="1st sample subdomain"&gt;
                    &lt;nameservers&gt;
                        &lt;nameserver name="dns1.stabletransit.com"/&gt;
                        &lt;nameserver name="dns2.stabletransit.com"/&gt;
                    &lt;/nameservers&gt;
                &lt;/domain&gt;
                &lt;domain id="3191308" accountId="1234" name="sub2.example.com" ttl="3600" 
                    emailAddress="sample@rackspace.com" updated="2012-03-15T17:53:05Z" 
                    created="2012-03-15T17:53:05Z" comment="1st sample subdomain"&gt;
                    &lt;nameservers&gt;
                        &lt;nameserver name="dns1.stabletransit.com"/&gt;
                        &lt;nameserver name="dns2.stabletransit.com"/&gt;
                    &lt;/nameservers&gt;
                &lt;/domain&gt;
            &lt;/subdomains&gt;
        &lt;/domain&gt;
    &lt;/response&gt;
&lt;/asyncResponse&gt;
</programlisting>
        </example>
        <example>
            <title>Create domain: JSON final successful
                response</title>
            <programlisting language="json">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/json
Date: Thu, 15 Mar 2012 18:46:01 GMT
Content-Length: 1892
Server: Jetty(7.3.1.v20110307)

{
"request": "{\n    \"domains\" : [ {\n        \"name\" : \"example.com\",\n        \"comment\" : \"Optional domain comment...\",\n        \"subdomains\" : {\n            \"domains\" : [ 
{\n                \"name\" : \"sub1.example.com\",\n                \"comment\" : \"1st sample subdomain\",\n                \"emailAddress\" : \"sample@rackspace.com\"\n            }, {
\n                \"name\" : \"sub2.example.com\",\n                \"comment\" : \"1st sample subdomain\",\n                \"emailAddress\" : \"sample@rackspace.com\"\n\n            } ]\n 
},\n        \"ttl\" : 3600,\n        \"emailAddress\" : \"sample@rackspace.com\"\n} ]\n}",
"response": {
  "domains": [
    {
      "name": "example.com",
      "id": 3191338,
      "comment": "Optional domain comment...",
      "accountId": 1234,
      "subdomains": {
        "domains": [
          {
            "name": "sub1.example.com",
            "id": 3191339,
            "comment": "1st sample subdomain",
            "accountId": 1234,
            "updated": "2012-03-15T18:08:16.000+0000",
            "ttl": 3600,
            "emailAddress": "sample@rackspace.com",
            "nameservers": [
              {
                "name": "dns1.stabletransit.com"
              },
              {
                "name": "dns2.stabletransit.com"
              }
            ],
            "created": "2012-03-15T18:08:16.000+0000"
          },
          {
            "name": "sub2.example.com",
            "id": 3191340,
            "comment": "1st sample subdomain",
            "accountId": 1234,
            "updated": "2012-03-15T18:08:16.000+0000",
            "ttl": 3600,
            "emailAddress": "sample@rackspace.com",
            "nameservers": [
              {
                "name": "dns1.stabletransit.com"
              },
              {
                "name": "dns2.stabletransit.com"
              }
            ],
            "created": "2012-03-15T18:08:16.000+0000"
          }
        ]
      },
      "updated": "2012-03-15T18:08:15.000+0000",
      "ttl": 3600,
      "emailAddress": "sample@rackspace.com",
      "nameservers": [
        {
          "name": "dns1.stabletransit.com"
        },
        {
          "name": "dns2.stabletransit.com"
        }
      ],
      "created": "2012-03-15T18:08:15.000+0000"
    }
  ]
},
"status": "COMPLETED",
"verb": "POST",
"jobId": "ec180c96-5488-4b29-8d25-ce3e2985afd4",
"callbackUrl": "https://dns.api.rackspacecloud.com/v1.0/1234/status/ec180c96-5488-4b29-8d25-ce3e2985afd4",
"requestUrl": "http://dns.api.rackspacecloud.com/v1.0/1234/domains"
}
</programlisting>
        </example>
        <para>Notice that you can see the 200 OK responses containing
            information about the domain/subdomains with status
            COMPLETED. This indicates that the call was successfully
            completed.</para>
        <note>
            <para> The response examples show the
                    <emphasis>final</emphasis> successful response for
                the asynchronous call. Refer to <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-devguide/content/sync_asynch_responses.html">http://docs.rackspace.com/cdns/api/v1.0/cdns-devguide/content/sync_asynch_responses.html</link>
                for more information about how the asynchronous call
                works.</para>
        </note>
        <para>In the previous examples, you can see that the domain
            example.com was created along with its subdomains
            sub1.example.com and sub2.example.com. You will need the
            domain <code>id</code> for making the List domain details
            call in the next section, and you should supply this value
            wherever you see the field <emphasis role="bold"
                >domain_id</emphasis> in the examples in this
            guide.</para>
    </chapter>
    
    <chapter xml:id="List_Domain_Details">
            <title>List domain details</title>
            <para>This operation provides detailed output for a
            specific domain configured and associated with your
            account. This operation is not capable of returning
            details for a domain that has been deleted. </para>
        <para>This operation does not require a request body. </para>
        <para>The examples list the details for the domain with
                <emphasis role="bold">domain_id</emphasis> that you
            created in the previous section.</para>
        <para>The following examples show the cURL requests for List
            domain details:</para>
        <example>
            <title>cURL List domain details: XML request</title>
            <programlisting language="bash">curl -s  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>'  \
-H 'Accept: application/xml'  \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains/<emphasis role="bold">domain_id</emphasis>' | ppxml</programlisting>
        </example>
        <example>
            <title>cURL List domain details: JSON request</title>
            <programlisting language="bash">curl -s  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>'  \
-H 'Accept: application/json'  \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains/<emphasis role="bold">domain_id</emphasis>' | python -m json.tool</programlisting>
        </example>
        <para>Remember to replace the names in the examples above with
            their actual respective values for all the cURL examples
            that follow:<itemizedlist spacing="compact">
                <listitem>
                    <para>
                        <emphasis role="bold"
                            >your_auth_token</emphasis> — as returned
                        in your authentication response (see the
                        response examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication
                        token</link>)</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">your_acct_id</emphasis> — as
                        returned in your authentication response (must
                        be replaced in the request URL)</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">domain_id</emphasis>
                        — as returned in your create domain
                        response (must be replaced in the request
                        URL)</para>
                </listitem>
            </itemizedlist>
      </para>
        <para>The following examples show the List domain details
            responses:</para>
            
            <example>
                <title>List domain details: XML response</title>
                <programlisting language="xml">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/xml
Date: Thu, 15 Mar 2012 19:51:54 GMT
Content-Length: 903
Server: Jetty(7.3.1.v20110307)



&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;domain xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" xmlns:ns2="http://www.w3.org/2005/Atom" 
  xmlns:ns3="http://docs.rackspacecloud.com/dns/api/management/v1.0" id="3191338" accountId="1234" 
  name="example.com" ttl="3600" emailAddress="sample@rackspace.com" updated="2012-03-15T18:08:15Z" 
  created="2012-03-15T18:08:15Z" comment="Optional domain comment..."&gt;
  &lt;nameservers&gt;
    &lt;nameserver name="dns1.stabletransit.com"/&gt;
    &lt;nameserver name="dns2.stabletransit.com"/&gt;
  &lt;/nameservers&gt;
  &lt;recordsList totalEntries="2"&gt;
    &lt;record id="NS-7475194" type="NS" name="example.com" data="dns1.stabletransit.com" ttl="3600" updated="2012-03-15T18:08:15Z" created="2012-03-15T18:08:15Z"/&gt;
    &lt;record id="NS-7475195" type="NS" name="example.com" data="dns2.stabletransit.com" ttl="3600" updated="2012-03-15T18:08:15Z" created="2012-03-15T18:08:15Z"/&gt;
  &lt;/recordsList&gt;
&lt;/domain&gt;
</programlisting>
            </example>
            
            <example>
                <title>List domain details: JSON response</title>
                <programlisting language="json">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/json
Date: Thu, 15 Mar 2012 19: 54: 52 GMT
Content-Length: 713
Server: Jetty(7.3.1.v20110307)

 
{
  "name": "example.com",
  "id": 3191338,
  "comment": "Optional domain comment...",
  "accountId": 1234,
  "updated": "2012-03-15T18:08:15.000+0000",
  "ttl": 3600,
  "recordsList": {
    "records": [
      {
        "name": "example.com",
        "id": "NS-7475194",
        "type": "NS",
        "data": "dns1.stabletransit.com",
        "updated": "2012-03-15T18:08:15.000+0000",
        "ttl": 3600,
        "created": "2012-03-15T18:08:15.000+0000"
      },
      {
        "name": "example.com",
        "id": "NS-7475195",
        "type": "NS",
        "data": "dns2.stabletransit.com",
        "updated": "2012-03-15T18:08:15.000+0000",
        "ttl": 3600,
        "created": "2012-03-15T18:08:15.000+0000"
      }
    ],
    "totalEntries": 2
  },
  "emailAddress": "sample@rackspace.com",
  "nameservers": [
    {
      "name": "dns1.stabletransit.com"
    },
    {
      "name": "dns2.stabletransit.com"
    }
  ],
  "created": "2012-03-15T18:08:15.000+0000"
}

</programlisting>
            </example>
        <para>By default, the List domain details API call lists
            details of the specified domain, with record information
            but <emphasis>without</emphasis> subdomains.</para>
        <para>The following parameters are available to control the
            information displayed by the List domain details
            responses:</para>
        <itemizedlist>
            <listitem>
                <para>
               <code>showRecords</code> — if this
                    parameter is set to true, then information about
                    records is returned; if this parameter is set to
                    false, then information about records is not
                    returned.</para>
            </listitem>
            <listitem>
                <para>
               <code>showSubdomains</code> — if this
                    parameter is set to true, then information about
                    subdomains is returned; if this parameter is set
                    to false, then information about subdomains is not
                    returned.</para>
            </listitem>
        </itemizedlist>
        <para>For example, using the following version of the call,
            information about subdomains will be displayed, but
            information about records will not be displayed:
                <uri>'https://dns.api.rackspacecloud.com/v1.0/</uri>
         <emphasis role="bold">your_acct_id</emphasis>
         <uri>/domains/</uri>
         <emphasis role="bold">domain_id</emphasis>
         <uri>?showRecords=false&amp;showSubdomains=true</uri>'</para>
        <para>Displaying only the information needed will improve the
            performance of the List domain details call.</para>
        <para>The following examples show the cURL requests for List
            domain details with subdomains, but no records:</para>
        <example>
            <title>cURL List domain details with subdomains, no
                records: XML request</title>
            <programlisting language="bash">curl -i  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>'  \
-H 'Accept: application/xml'  \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains/<emphasis role="bold">domain_id</emphasis>?showRecords=false&amp;showSubdomains=true'</programlisting>
        </example>
        <example>
            <title>cURL List domain details with subdomains, no
                records: JSON request</title>
            <programlisting language="bash">curl -i  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>'  \
-H 'Accept: application/json'  \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains/<emphasis role="bold">domain_id</emphasis>?showRecords=false&amp;showSubdomains=true'</programlisting>
        </example>
        <para>Remember to replace the names in the examples above with
            their actual respective values for all the cURL examples
            that follow:<itemizedlist spacing="compact">
                <listitem>
                    <para>
                        <emphasis role="bold"
                            >your_auth_token</emphasis> — as returned
                        in your authentication response (see the
                        response examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication
                        token</link>)</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">your_acct_id</emphasis> — as
                        returned in your authentication response; must
                        be replaced in the request URL</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">domain_id</emphasis>
                        — as returned in your create domain
                        final successful response (see the examples in
                        <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Create_Domain.html">Create a domain</link>); must be
                        replaced in the request URL </para>
                </listitem>
            </itemizedlist>
      </para>
        <para>The following examples show the List domain details with
            subdomains, no records responses:</para>
        <example>
            <title>List domain details with subdomains, no records:
                XML response</title>
            <programlisting language="xml">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/xml
Date: Thu, 15 Mar 2012 21:16:28 GMT
Content-Length: 865
Server: Jetty(7.3.1.v20110307)

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;domain xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" xmlns:ns2="http://www.w3.org/2005/Atom" 
  xmlns:ns3="http://docs.rackspacecloud.com/dns/api/management/v1.0" id="3191338" accountId="1234" 
  name="example.com" ttl="3600" emailAddress="sample@rackspace.com" updated="2012-03-15T18:08:15Z" 
  created="2012-03-15T18:08:15Z" comment="Optional domain comment..."&gt;
  &lt;nameservers&gt;
    &lt;nameserver name="dns1.stabletransit.com"/&gt;
    &lt;nameserver name="dns2.stabletransit.com"/&gt;
  &lt;/nameservers&gt;
  &lt;subdomains totalEntries="2"&gt;
    &lt;domain id="3191339" name="sub1.example.com" updated="2012-03-15T18:08:16Z" created="2012-03-15T18:08:16Z" comment="1st sample subdomain"/&gt;
    &lt;domain id="3191340" name="sub2.example.com" updated="2012-03-15T18:08:17Z" created="2012-03-15T18:08:16Z" comment="1st sample subdomain"/&gt;
  &lt;/subdomains&gt;
&lt;/domain&gt;
</programlisting>
        </example>
        <example>
            <title>List domain details with subdomains, no records:
                JSON response</title>
            <programlisting language="json">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/json
Date: Thu, 15 Mar 2012 19: 54: 52 GMT
Content-Length: 713
Server: Jetty(7.3.1.v20110307)


{
   "id": "3191338",
   "accountId": "1234",
   "name": "example.com",
   "ttl": "3600",
   "emailAddress": "sample@rackspace.com",
   "updated": "2012-03-15T18:08:15Z",
   "created": "2012-03-15T18:08:15Z",
   "comment": "Optional domain comment...",
   "nameservers": {
      "nameserver": [
         {
            "name": "dns1.stabletransit.com"
         },
         {
            "name": "dns2.stabletransit.com"
         }
      ]
   },
   "subdomains": {
      "totalEntries": "2",
      "domain": [
         {
            "id": "3191339",
            "name": "sub1.example.com",
            "updated": "2012-03-15T18:08:16Z",
            "created": "2012-03-15T18:08:16Z",
            "comment": "1st sample subdomain"
         },
         {
            "id": "3191340",
            "name": "sub2.example.com",
            "updated": "2012-03-15T18:08:17Z",
            "created": "2012-03-15T18:08:16Z",
            "comment": "1st sample subdomain"
         }
      ]
   }
}

</programlisting>
        </example>
        </chapter>
    <chapter xml:id="Add_Records">
        <title>Add records</title>
        <para>In this section, you will add records for your new
            domain as follows:</para>
        <itemizedlist>
            <listitem>
                <para>Two A records to map the IPV4 addresses of your
                    two cloud servers that you recorded in <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Create_Cloud_Server.html">Create a new cloud server</link>
                    to the new
                    domain that you created in <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Create_Domain.html">Create a domain</link>). </para>
            </listitem>
            <listitem>
                <para>One CNAME record to create an alias
                    (www.example.com) for your domain with a TTL of
                    5400 and a comment of “This is a comment on the
                    CNAME record.”</para>
            </listitem>
            <listitem>
                <para>Make the first cloud server the ftp server
                    (ftp.example.com) for your domain with a TTL of
                    5571.</para>
            </listitem>
            <listitem>
                <para>Make the second cloud server the domain server
                    with a TTL of 86400.</para>
            </listitem>
        </itemizedlist>
        <note>
            <para>If you had IPV6 addresses to map, you would need to
                create AAAA records in addition to any A records for
                IPv4 addresses.</para>
        </note>
        <para>The following examples show the cURL requests for Add
            records:</para>
        <example>
            <title>cURL Add records: XML request</title>
            <programlisting language="bash">curl -s -d \
'&lt;?xml version="1.0" ?&gt; 
&lt;recordsList xmlns:ns2="http://docs.rackspacecloud.com/dns/api/management/v1.
0" xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" xmlns:ns3="http://www.
w3.org/2005/Atom"&gt;
    &lt;record type="A" name="ftp.example.com" 
    data="&lt;<emphasis role="bold">your_FIRST_Cloud_Server_IP_address</emphasis>&gt;" ttl="5771"/&gt;
    &lt;record type="A" name="example.com" 
    data="&lt;<emphasis role="bold">your_SECOND_Cloud_Server_IP_address</emphasis>&gt;" ttl="86400"/&gt;
    &lt;record type="CNAME" name="www.example.com" data="example.com" ttl="5400" 
    comment="This is a comment on the CNAME record"/&gt;
&lt;/recordsList&gt;' \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/xml' \
-H 'Accept: application/xml' \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains/<emphasis role="bold">domain_id</emphasis>/records' | ppxml</programlisting>
        </example>
        <example>
            <?dbfo keep-together="always"?>
            <title>cURL Add records: JSON request</title>
            <programlisting language="bash">curl -s -d \
'{
    "records": [
        {
            "name" : "ftp.example.com",
            "type" : "A",
            "data" : "&lt;<emphasis role="bold">your_FIRST_Cloud_Server_IP_address</emphasis>&gt;",
            "ttl" : 5771
        }, 
        {
            "name" : "example.com",
            "type" : "A",
            "data" : "&lt;<emphasis role="bold">your_SECOND_Cloud_Server_IP_address</emphasis>&gt;",
            "ttl" : 86400
        },
        {
            "name" : "www.example.com",
            "type" : "CNAME",
            "comment" : "This is a comment on the CNAME record",
            "data" : "example.com",
            "ttl" : 5400
        }
    ]
}' \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/json' \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/domains/<emphasis role="bold">domain_id</emphasis>/records' | python -m json.tool</programlisting>
        </example>
        <para>Remember to replace the names in the examples above with
            their actual respective values:<itemizedlist spacing="compact">
                <listitem>
                    <para>
                        <emphasis role="bold"
                            >your_auth_token</emphasis> — as returned
                        in your authentication response (see the
                        examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication
                        token</link>)</para>
                </listitem>
                <listitem>
                    <para>
                        <emphasis role="bold">your_acct_id</emphasis>
                        — as returned in your authentication response
                        (see the examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication token</link>);
                        must be replaced in the request URL</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">domain_id</emphasis>
                        — as returned in your create domain
                        final successful response (see the examples in
                        <link xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Create_Domain.html">Create a domain</link>); must be
                        replaced in the request URL</para>
                </listitem>
            </itemizedlist>
      </para>
        <para>The following examples show the initial asynchronous
            responses for Add records:</para>
        <example>
            <title>Add records: initial asynchronous XML
                response</title>
            <programlisting language="xml">HTTP/1.1 202 Accepted
X-API-VERSION: 1.0.13
Content-Type: application/xml
Date: Fri, 16 Mar 2012 15:17:52 GMT
Content-Length: 1283
Server: Jetty(7.3.1.v20110307)

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;asyncResponse xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" xmlns:ns2="http://www.w3.org/2005/Atom" xmlns:ns3="http://docs.rackspacecloud.com/dns/api/management/v1.0"&gt;
  &lt;jobId&gt;1912f480-4636-498e-bba4-609661d19083&lt;/jobId&gt;
  &lt;callbackUrl&gt;https://dns.api.rackspacecloud.com/v1.0/1234/status/1912f480-4636-498e-bba4-609661d19083&lt;/callbackUrl&gt;
  &lt;status&gt;RUNNING&lt;/status&gt;
  &lt;requestUrl&gt;http://dns.api.rackspacecloud.com/v1.0/1234/domains/3191338/records&lt;/requestUrl&gt;
  &lt;verb&gt;POST&lt;/verb&gt;
  &lt;request&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; ?&amp;gt;
&amp;lt;recordsList xmlns:ns2=&amp;quot;http://docs.rackspacecloud.com/dns/api/management/v1.
0&amp;quot; xmlns=&amp;quot;http://docs.rackspacecloud.com/dns/api/v1.0&amp;quot; xmlns:ns3=&amp;quot;http://www.
w3.org/2005/Atom&amp;quot;&amp;gt;
&amp;lt;record type=&amp;quot;A&amp;quot; name=&amp;quot;ftp.example.com&amp;quot; 
  data=&amp;quot;50.56.207.146&amp;quot; ttl=&amp;quot;5771&amp;quot;/&amp;gt;
&amp;lt;record type=&amp;quot;A&amp;quot; name=&amp;quot;example.com&amp;quot; 
  data=&amp;quot;108.166.67.215&amp;quot; ttl=&amp;quot;86400&amp;quot;/&amp;gt;
&amp;lt;record type=&amp;quot;CNAME&amp;quot; name=&amp;quot;www.example.com&amp;quot; data=&amp;quot;example.com&amp;quot; ttl=&amp;quot;5400&amp;quot;
  comment=&amp;quot;This is a comment on the CNAME record&amp;quot;/&amp;gt;
&amp;lt;/recordsList&amp;gt;&lt;/request&gt;
&lt;/asyncResponse&gt;

</programlisting>
        </example>
        <example>
            <title>Add records: initial asynchronous JSON
                response</title>
            <programlisting language="json">HTTP/1.1 202 Accepted
X-API-VERSION: 1.0.13
Content-Type: application/json
Date: Fri, 16 Mar 2012 17:16:16 GMT
Content-Length: 700
Server: Jetty(7.3.1.v20110307)

{
  "request": "{\n\"records\": [\n{\n\"name\" : \"ftp.example.com\",\n\"type\" : \"A\",\n\"data\" : \"50.56.207.146\",\n\"ttl\" : 5771\n},\n{\n\"name\" : \"example.com\",\n\"type\" : \"A\",\n\"data\" : \"108.166.67.215\",\n\"ttl\" : 86400\n},\n{\n\"name\" : \"www.example.com\",\n\"type\" : \"CNAME\",\n\"comment\" : \"This is a comment on the CNAME record\",\n\"data\" : \"example.com\",\n\"ttl\" : 5400\n}\n]\n}",
  "status": "RUNNING",
  "verb": "POST",
  "jobId": "e6b78833-2b5e-4c4c-88c6-6aabb55a706b",
  "callbackUrl": "https://dns.api.rackspacecloud.com/v1.0/1234/status/e6b78833-2b5e-4c4c-88c6-6aabb55a706b",
  "requestUrl": "http://dns.api.rackspacecloud.com/v1.0/1234/domains/3191338/records"
}
</programlisting>
        </example>
        <para>The following examples show the cURL asynchronous status
            requests for Add records:</para>
        <example>
            <title>cURL asynchronous status for Add records: XML
                request</title>
            <programlisting language="bash">curl -i  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/xml' \
-H 'Accept: application/xml' \            
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/status/<emphasis role="bold">job_id</emphasis>?showDetails=true'</programlisting>
        </example>
        <example>
            <title>cURL asynchronous status for Add records: JSON
                request</title>
            <programlisting language="bash">curl -i  \
-H 'X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>' \
-H 'Content-Type: application/json' \
'https://dns.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/status/<emphasis role="bold">job_id</emphasis>?showDetails=true'</programlisting>
        </example>
        <para>Adding the parameter <code>?showDetails=true</code> at
            the end of the end of the URL after the <emphasis role="bold">job_id</emphasis> causes the response to
            display all details for the aynch request, including the
            results, if they are available. Omitting this parameter
            causes just basic details to be displayed (jobId,
            callbackUrl, and status attributes).</para>
        <para>Remember to replace the names in the examples above with
            their actual respective values for all the cURL examples
            that follow:<itemizedlist spacing="compact">
                <listitem>
                    <para>
                        <emphasis role="bold"
                            >your_auth_token</emphasis> — as returned
                        in your authentication response (see the
                        response examples in <link
                            xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/Generating_Auth_Token.html"
                            >Generate an authentication
                        token</link>)</para>
                </listitem>
                <listitem>
                    <para>
                  <emphasis role="bold">your_acct_id</emphasis> — as
                        returned in your authentication response (must
                        be replaced in the request URL)</para>
                </listitem>
                <listitem>
                    <para>
                        <emphasis role="bold">job_id</emphasis> — as
                        returned in your Create domain response (must
                        be replaced in the request URL)</para>
                </listitem>
            </itemizedlist>
      </para>
        <para> The following examples show the
                <emphasis>final</emphasis> successful response for the
            asynchronous Add records call. Refer to <link
                xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-devguide/content/sync_asynch_responses.html"
                >http://docs.rackspace.com/cdns/api/v1.0/cdns-devguide/content/sync_asynch_responses.html</link>
            for more information about how the asynchronous call
            works.</para>
        <example>
            <title>cURL Add records: final successful  XML
                response</title>
            <programlisting language="xml">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/xml
Date: Fri, 16 Mar 2012 15:53:22 GMT
Content-Length: 1906
Server: Jetty(7.3.1.v20110307)

&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;asyncResponse xmlns="http://docs.rackspacecloud.com/dns/api/v1.0" xmlns:ns2="http://www.w3.org/2005/Atom" xmlns:ns3="http://docs.rackspacecloud.com/dns/api/management/v1.0"&gt;
  &lt;jobId&gt;1912f480-4636-498e-bba4-609661d19083&lt;/jobId&gt;
  &lt;callbackUrl&gt;https://dns.api.rackspacecloud.com/v1.0/1234/status/1912f480-4636-498e-bba4-609661d19083&lt;/callbackUrl&gt;
  &lt;status&gt;COMPLETED&lt;/status&gt;
  &lt;requestUrl&gt;http://dns.api.rackspacecloud.com/v1.0/1234/domains/3191338/records&lt;/requestUrl&gt;
  &lt;verb&gt;POST&lt;/verb&gt;
  &lt;request&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; ?&amp;gt;
&amp;lt;recordsList xmlns:ns2=&amp;quot;http://docs.rackspacecloud.com/dns/api/management/v1.
0&amp;quot; xmlns=&amp;quot;http://docs.rackspacecloud.com/dns/api/v1.0&amp;quot; xmlns:ns3=&amp;quot;http://www.
w3.org/2005/Atom&amp;quot;&amp;gt;
&amp;lt;record type=&amp;quot;A&amp;quot; name=&amp;quot;ftp.example.com&amp;quot; 
  data=&amp;quot;50.56.207.146&amp;quot; ttl=&amp;quot;5771&amp;quot;/&amp;gt;
&amp;lt;record type=&amp;quot;A&amp;quot; name=&amp;quot;example.com&amp;quot; 
  data=&amp;quot;108.166.67.215&amp;quot; ttl=&amp;quot;86400&amp;quot;/&amp;gt;
&amp;lt;record type=&amp;quot;CNAME&amp;quot; name=&amp;quot;www.example.com&amp;quot; data=&amp;quot;example.com&amp;quot; ttl=&amp;quot;5400&amp;quot;
  comment=&amp;quot;This is a comment on the CNAME record&amp;quot;/&amp;gt;
&amp;lt;/recordsList&amp;gt;&lt;/request&gt;
  &lt;response xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="recordsList"&gt;
    &lt;record id="A-8135987" type="A" name="ftp.example.com" data="50.56.207.146" ttl="5771" updated="2012-03-16T15:17:53Z" created="2012-03-16T15:17:53Z"/&gt;
    &lt;record id="A-8135988" type="A" name="example.com" data="108.166.67.215" ttl="86400" updated="2012-03-16T15:17:53Z" created="2012-03-16T15:17:53Z"/&gt;
    &lt;record id="CNAME-10713155" type="CNAME" name="www.example.com" data="example.com" ttl="5400" updated="2012-03-16T15:17:54Z" created="2012-03-16T15:17:54Z" comment="This is a comment on the CNAME record"/&gt;
  &lt;/response&gt;
&lt;/asyncResponse&gt;

</programlisting>
        </example>
        <example>
            <title>cURL Add records: final successful  XML
                response</title>
            <programlisting language="json">HTTP/1.1 200 OK
X-API-VERSION: 1.0.13
Content-Type: application/json
Date: Fri, 16 Mar 2012 16:16:23 GMT
Content-Length: 1455
Server: Jetty(7.3.1.v20110307)

{
"request": "{\n\"records\": [\n{\n\"name\" : \"ftp.example.com\",\n\"type\" : \"A\",\n\"data\" : \"50.56.207.146\",\n\"ttl\" : 5771\n},\n{\n\"name\" : \"example.com\",\n\"type\" : \"A\",\n\"data\" : \"108.166.67.215\",\n\"ttl\" : 86400\n},\n{\n\"name\" : \"www.example.com\",\n\"type\" : \"CNAME\",\n\"comment\" : \"This is a comment on the CNAME record\",\n\"data\" : \"example.com\",\n\"ttl\" : 5400\n}\n]\n}",
  "response": {
    "records": [
      {
        "name": "ftp.example.com",
        "id": "A-8135987",
        "type": "A",
        "data": "50.56.207.146",
        "updated": "2012-03-16T15:17:53.000+0000",
        "ttl": 5771,
        "created": "2012-03-16T15:17:53.000+0000"
      },
      {
        "name": "example.com",
        "id": "A-8135988",
        "type": "A",
        "data": "108.166.67.215",
        "updated": "2012-03-16T15:17:53.000+0000",
        "ttl": 86400,
        "created": "2012-03-16T15:17:53.000+0000"
      },
      {
        "name": "www.example.com",
        "id": "CNAME-10713155",
        "type": "CNAME",
        "comment": "This is a comment on the CNAME record",
        "data": "example.com",
        "updated": "2012-03-16T15:17:54.000+0000",
        "ttl": 5400,
        "created": "2012-03-16T15:17:54.000+0000"
      }
    ]
  },
  "status": "COMPLETED",
  "verb": "POST",
  "jobId": "1912f480-4636-498e-bba4-609661d19083",
  "callbackUrl": "https://dns.api.rackspacecloud.com/v1.0/1234/status/1912f480-4636-498e-bba4-609661d19083",
  "requestUrl": "http://dns.api.rackspacecloud.com/v1.0/1234/domains/3191338/records"
}
</programlisting>
        </example>
        <para>You can now call List domain details again to confirm
            that the records are added to your domain. See <link
                xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-getting-started/content/List_Domain_Details.html"
                >List domain details</link> for
            instructions.</para>
    </chapter>
    <chapter xml:id="Additional_Resources">
        <title>Additional resources</title>
        <para>For information about all Cloud DNS API operations, see
            the <citetitle>Cloud DNS Developer Guide</citetitle> at
                <link xlink:href="http://docs.rackspace.com/"
                >docs.rackspace.com</link>. All you need to get
            started with the Cloud DNS API is in this getting started
            guide and the developer guide. For additional information
            about Cloud DNS, see the <link
                xlink:href="http://www.rackspace.com/knowledge_center/article/rackspace-cloud-dns-available-features"
                >Knowledge Center</link>.</para>
        <para>The official support channels (phone, chat, email,
            forums, and knowledge base articles) for Cloud DNS are
            available through the Rackspace Cloud website at <link
                xlink:href="www.rackspace.com">www.rackspace.com</link>.</para>
        <para>If the Cloud DNS system is not functioning as expected,
            you can review the <link
                xlink:href="https://status.rackspace.com/">System
                Status page</link>. This page is updated to reflect
            up-to-date information about the system’s current health
            and status.</para>
        <para>Interested users can also follow updates and
            announcements for Rackspace on <link
                xlink:href="https://twitter.com/rackspace"
                >Twitter</link>. </para>
        <para>Visit the <link
            xlink:href="https://feedback.rackspace.com/">Product Feedback Forum</link> and tell us
            what you think about Cloud DNS.</para>
    </chapter>
    <chapter xml:id="DNS_Doc_Change_History">
        <title>Document change history</title>
        <para>This version of the Getting Started replaces and
            obsoletes all previous versions. The most recent changes
            are described in the table below:</para>
        <?rax revhistory?>
    </chapter>
</book>
