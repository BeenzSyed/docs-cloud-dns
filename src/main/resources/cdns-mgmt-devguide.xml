<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
        <!-- Some useful entities borrowed from HTML -->
        <!ENTITY ndash  "&#x2013;">
        <!ENTITY mdash  "&#x2014;">
        <!ENTITY hellip "&#x2026;">

        <!-- Useful for describing APIs -->
        <!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
        <!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
        <!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
        <!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>

        <!ENTITY CHECK  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Check_mark_23x20_02.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>

        <!ENTITY ARROW  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Arrow_east.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>
]>
<book xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xml:id="cdns-mgmt"
      version="5.0">
    
    <?rax title.font.size="35px" subtitle.font.size="20px"?>
    <title>Cloud DNS BETA Developer Guide for Service Management</title>
    <?rax status.bar.text="RAX INTERNAL"?>
    <info>
        <author>
            <personname>
                <firstname/>
                <surname/>
            </personname>
            <affiliation>
                <orgname>Rackspace Cloud</orgname>
            </affiliation>
        </author>
        <copyright>
            <year>2010</year>
            <year>2011</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <releaseinfo>API v1.0 BETA</releaseinfo>
        <productname>Cloud DNS BETA</productname>
        <pubdate>2011-09-02</pubdate>
        <legalnotice role="rs-api">
            <annotation>
                <remark>Copyright details are filled in by the template.</remark>
            </annotation>
        </legalnotice>
        <abstract>
            <para>This document is intended for software developers interested in developing service
                management applications using the using the Rackspace Cloud DNS Application
                Programming Interface (<abbrev>API</abbrev>). </para>
        </abstract>
    <cover>
        <para>this is a placeholder for the front cover</para>
    </cover>
    <cover>
        <para>this is a placeholder for the back cover</para>
    </cover>
    </info>
    <chapter xml:id="overview">
        <title>Overview</title>
        <para> Rackspace Cloud DNS is a Domain Name System (DNS) available to Rackspace Cloud
            customers. Interactions with Rackspace Cloud DNS occur programmatically via the
            Rackspace Cloud DNS API as described in this Cloud DNS Developer Guide for Service
            Management.</para>
        <note>
            <para> DNS propagation may take up to 15 minutes. </para>
        </note>
        <para>The following figure shows an overview of Cloud DNS Infrastructure:
	<informalfigure>
	  <mediaobject>
	    <imageobject role="fo">
	      <imagedata fileref="images/Cloud_DNS_Infographic-1.svg" contentwidth="6in"/>
	    </imageobject>
	    <imageobject role="html">
	      <imagedata fileref="images/Cloud_DNS_Infographic-1.png"/>
	    </imageobject>	    
	  </mediaobject>
	</informalfigure>
	</para>
        <para>We welcome feedback, comments, and bug reports at <link
                xlink:href="http://feedback.rackspacecloud.com"
                >http://feedback.rackspacecloud.com</link>.</para>
        <para>Issues and bug reports can be directed to your support team via ticket, chat, email,
            or phone.</para>
        <section xml:id="Intended_Audience-d1e122">
            <title>Intended Audience</title>
            <para> This Guide is intended to assist software developers who want to develop
                applications using the Rackspace Cloud DNS Service Management API. To use the
                information provided here, you should first have a general understanding of the DNS
                service. You should also be familiar with: </para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>DNS terminology</para>
                </listitem>
                <listitem>
                    <para>General operating principles of DNS</para>
                </listitem>
                <listitem>
                    <para>RESTful web services</para>
                </listitem>
                <listitem>
                    <para>HTTP/1.1 conventions</para>
                </listitem>
                <listitem>
                    <para>JSON and/or XML data serialization formats</para>
                </listitem>
            </itemizedlist>
            <para>You should also be familiar with the way the Cloud DNS Service API works. For
                information, refer to the <citetitle>Cloud DNS Developer Guide</citetitle>.</para>
        </section>
        <?hard-pagebreak?>
        <section xml:id="Document_Change_History-d1e166">
            <title>Document Change History</title>
            <para>This version of the Developer Guide replaces and
            obsoletes all previous versions.  The most recent changes
            are described in the table below:</para>
            <table rules="all">
                <caption>Document Change History</caption>
                <thead>
                    <tr align="center">
                        <td colspan="1">Revision Date</td>
                        <td colspan="4">Summary of Changes</td>
                    </tr>
                </thead>
                <tbody>
                    <tr align="left">
                        <td colspan="1">Sept. 2, 2011</td>
                        <td colspan="4"
                            ><itemizedlist spacing="compact">
                                <listitem>
                                    <para>Initial version published.</para>
                                </listitem>
                            </itemizedlist>
                        </td>
                    </tr>
                    <tr align="left">
                        <td colspan="1">Aug. X, 2011</td>
                        <td colspan="4"
                            ><itemizedlist spacing="compact">
                                <listitem>
                                    <para>Added <xref linkend="general_limits"/>.</para>
                                </listitem>
                                <listitem>
                                    <para>Added <xref linkend="user_limits"/></para>
                                </listitem>
                            </itemizedlist>
                        </td>
                    </tr> 
                </tbody>
            </table>
        </section>
        <section xml:id="Additional_Resources-d1e532">
            <title>Additional Resources</title>
            <para>You can download the most current versions of other API-related documents from
                    <link xlink:href="http://docs.rackspace.com/api/"
                        >http://docs.rackspace.com/api/</link>. </para>
            <para>For information about Rackspace Cloud products, refer to <link
                    xlink:href="http://www.rackspace.com/cloud/"
                    >http://www.rackspace.com/cloud</link>. This site also offers links to
                Rackspace's official support channels, including knowledge base articles, forums,
                phone, chat, and email. </para>
            <para>You can also follow Rackspace updates and announcements via twitter at <link
                    xlink:href="http://www.twitter.com/rackspace"
                    >http://www.twitter.com/rackspace</link>. </para>
            <para>This API uses standard HTTP 1.1 response codes as documented at <link
                    xlink:href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"
                    >http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</link>. </para>
        </section>
    </chapter>
    <chapter xml:id="Concepts-d1e563">
        <title>Concepts</title>
        <?dbhtml stop-chunking?>
        <para> To use the DNS API effectively, you should understand several key concepts: </para>
        <section xml:id="DNS-d1e573">
            <title>DNS</title>
            <para> The Domain Name System (DNS) is a system by which internet domain name-to-address
                and address-to-name resolutions are determined. All domains and their components,
                such as mail servers, utilize DNS to resolve to the appropriate locations. DNS
                servers are usually set up in a master-slave relationship such that failure of the
                master invokes the slave. DNS servers may also be clustered or  replicated such that
                changes made to one DNS server are automatically propagated to other active servers. </para>
            <note>
            <para>
                DNS understands only ASCII, so the Cloud DNS Service provides conversion between UTF-8 and ASCII on all calls into the
                system. 
            </para>
            </note>
        </section>
        <section xml:id="Domain-d1e588">
            <title>Domain</title>
            <para> A domain is an entity/container of all DNS-related information containing one or
                more records. </para>
        </section>
        <section xml:id="subdomain">
            <title>Subdomain</title>
            <para>Subdomains are domains within a parent domain, and subdomains cannot be
                registered. Subdomains allow you to delegate domains. Subdomains can themselves have
                subdomains, so third-level, fourth-level, fifth-level, and deeper levels of nesting
                are possible. </para>
        </section>
        <section xml:id="Record-d1e607">
            <title>Record</title>
            <para> A DNS record belongs to a particular domain and is used to specify information
                about the domain. There are several types of DNS records. Each record type contains
                particular information used to describe that record's purpose. Examples include mail
                exchange (MX) records, which specify the mail server for a particular domain, and
                name server (NS) records, which specify the authoritative name servers for a domain. </para>
        </section>
        <section xml:id="Domain_Owner-d1e616">
            <title>Domain Owner</title>
            <para> Within Rackspace DNS, the account which creates the domain is the domain
                owner.</para>
            <note>
                <para>Domain registration is currently outside the scope of the Rackspace DNS API.
                    Any references to ownership and management of domain information is only
                    relevant within the context of the Rackspace DNS system.</para>
            </note>
        </section>
    </chapter>
    <chapter xml:id="General_API_Information-d1e633">
        <title>Management API Operations</title>
        <para>These API operations relate to administration of the environment that enables and
            supports the DNS service for all customers. The scope of these operations is wide,
            relating to the overall operating environment rather than to a single customer. Rackers
            might perform these operations to examine or alter the overall operational
            environment.</para>
        <section xml:id="Authentication-d1e647">
            <title>Domains</title>
            <?dbhtml stop-chunking?>
            <section>
                <title>Search Domains</title>
                <para> This operation allows for searching for a domain by full or partial name. </para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="4">Description</td>
                            <td colspan="4">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&GET;</td>
                            <td colspan="2">/search?name=<parameter>domainName</parameter></td>
                            <td colspan="4">Find all domains that match the specified domain
                                name.</td>
                            <td colspan="4">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/search?name=rackspace </td>
                        </tr>
                        
                    </tbody>
                </informaltable>
                <simpara> Normal Response Code(s): <returnvalue>200</returnvalue>
                </simpara>
                <simpara> Error Response Code(s): dnsFault (<errorcode>400</errorcode>,
                        <errorcode>500</errorcode>), serviceUnavailable
                    (<errorcode>503</errorcode>), unauthorized (<errorcode>401</errorcode>),
                    badRequest (<errorcode>400</errorcode>), overLimit (<errorcode>413</errorcode>) </simpara>
                <para><?rax-fo keep-with-next?> In the following examples, the specified search name
                    is <code>rackspace</code>:</para>
                <example>
                    <title>Search Domains Request: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-search-domains_request.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-search-domains_request.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Search Domains Request: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-search-domains_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-search-domains_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Search Domains Response: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-search-domains_response.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-search-domains_response.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Search Domains Response: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-search-domains_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-search-domains_response.json</xi:fallback></xi:include></programlisting>
                </example>
                <para> The domain is listed if its name contains the string "rackspace" anywhere in
                    the name. </para>
            </section>
        </section>
        <section xml:id="general_limits">
            <title>Limits</title>
            <para>There are two types of limits:<itemizedlist spacing="compact">
                    <listitem>
                        <para><emphasis>absolute</emphasis> limits
                            &ndash; limits that are fixed (such as
                            domain and record limits), and once
                            exceeded, cannot reset</para>
                    </listitem>
                    <listitem>
                        <para><emphasis>dynamic</emphasis> limits &ndash; limits that reset after a
                            period of time (such as rate limits)</para>
                    </listitem>
                </itemizedlist>Each user belongs to multiple <emphasis>limit groups</emphasis> that
                define what these limits are. For example, a rate group is a specific type of limit
                group (whose type is <code>rate_limit</code>), which specifies how many requests a
                user can make in a particular time interval.</para>
            <para> The only operations permitted via the API are:<itemizedlist spacing="compact">
                    <listitem>
                        <para>Viewing the limit groups</para>
                    </listitem>
                    <listitem>
                        <para>Assigning users to limit groups</para>
                    </listitem>
                </itemizedlist>  You cannot change the limit group values via the API, nor can you
                add or delete limit groups.</para>
            <para> A user's limit group assignments determine the extent to which the user is
                allowed to exercise the public API. Limit group assignments can determine things
                like how many requests a user can make in a particular time interval (dynamic rate
                limit) or how many domains a user can create (absolute limit). For information about
                viewing and managing the assignments to limit groups, refer to <xref
                    linkend="user_limits"/>.</para>
            <para>The API operations described in this section list the absolute and dynamic limit
                groups for the system. </para>
            <section xml:id="list_limit_groups">
                <title>List Limit Groups</title>
                <para>This operation displays all the limit groups of all types.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="1">URI</td>
                            <td colspan="3">Description</td>
                            <td colspan="5">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&GET;</td>
                            <td colspan="1">/limits</td>
                            <td colspan="3">List all limit groups.</td>
                            <td colspan="5">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/limits 
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>200</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>List Limit Groups Request: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-groups_request.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-groups_request.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Groups Request: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-groups_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-groups_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Groups Response: XML</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-groups_response.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-groups_response.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Groups Response: JSON</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-groups_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-groups_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
            <section xml:id="limit_group_types">
                <title>List Limit Group Types</title>
                <para>This operation displays the different limit group types. A customer is
                    assigned to one limit group of each type.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="2">Description</td>
                            <td colspan="5">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&GET;</td>
                            <td colspan="2">/limits/types</td>
                            <td colspan="2">List all limit group types.</td>
                            <td colspan="5">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/limits/types
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>200</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>List Limit Group Types Request: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-types_request.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-types_request.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Group Types Request: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-types_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-types_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Group Types Response: XML</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-types_response.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-types_response.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Group Types Response: JSON</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-types_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-types_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
            <section xml:id="limit_groups_of_specified_type">
                <title>List Limit Groups of a Specified Type</title>
                <para>This operation displays all the limit groups of the specified type.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="3">Description</td>
                            <td colspan="5">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&GET;</td>
                            <td colspan="2">/limits/types/<parameter>type</parameter></td>
                            <td colspan="3">List all limit groups of a specified type.</td>
                            <td colspan="5">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/limits/types/rate_limit
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>200</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>List Limit Groups of Type Request: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-type-groups_request.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-type-groups_request.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Groups of Type Request: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-type-groups_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-type-groups_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Groups of Type Response: XML</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-type-groups_response.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-type-groups_response.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Limit Groups of Type Response: JSON</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-type-groups_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-type-groups_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
            <section xml:id="show_limit_group_details">
                <title>Show Details for a Limit Group</title>
                <para>This operation displays the details for a specified limit group.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="3">Description</td>
                            <td colspan="5">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&GET;</td>
                            <td colspan="2">/limits/<parameter>group</parameter></td>
                            <td colspan="3">List details of the specified group.</td>
                            <td colspan="5">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/limits/default_customer_group
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>200</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>Show Group Details Request: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-group_request.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-group_request.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Show Group Details Request: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-group_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-group_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Show Group Details Response: XML</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-group_response.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-group_response.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Show Group Details Response: JSON</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-limit-group_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-limit-group_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
        </section>
        <?hard-pagebreak?>
    </chapter>
    <chapter xml:id="API_Operations-d1e2264">
        <title>Extended Customer API Operations</title>
        <para>These API operations relate to support of DNS service activities on behalf of a
            specific customer. The scope of these operations is narrow, relating to the needs of a
            single customer. A customer might directly request these operations, however only
            Rackers are authorized to perform them. Rackers might also perform these operations to
            limit or terminate a specific customer's activities when that customer appears to be
            disrupting the overall operational environment.</para>
        <section>
            <title>Public API Extensions</title>
            <para>All operations available to customers via the public
                API (and described in the <citetitle>Cloud DNS
                    Developer Guide</citetitle>) are duplicated in the
                Cloud DNS Management API, but with various extensions
                (described in <xref
                    linkend="additional_data_extensions"/>). Rather
                than duplicate the information in the public API
                specification in this document, please refer to the
                    <citetitle>Cloud DNS Developer Guide</citetitle>
                for details.</para>
            <section xml:id="additional_data_extensions">
                <title>Additional Data Extensions</title>
                <para><emphasis>User-centric</emphasis> operations
                    (that is, operations requested by the Management
                    API user on behalf of a customer) for the Cloud
                    DNS Management API typically return some
                    additional fields of information not available to
                    users of the public API. The table below details
                    the additional data for the relevant data
                    types.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="4">Data Type</td>
                        </tr>
                        <tr align="center">
                            <td colspan="1">Name</td>
                            <td colspan="3">Description</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="center">
                            <th colspan="4">Domain</th>
                        </tr>
                        <tr>
                            <td colspan="1">nameServer</td>
                            <td colspan="3">The domain's primary name server</td>
                        </tr>
                        <tr>
                            <td colspan="1">refresh</td>
                            <td colspan="3">How long a secondary DNS server should wait before 
                                querying the primary DNS server for changes to the domain</td>
                        </tr>
                        <tr>
                            <td colspan="1">retry</td>
                            <td colspan="3">How long a secondary DNS
                                server should wait before retrying a
                                failed query for changes to the
                                domain</td>
                        </tr>
                        <tr>
                            <td colspan="1">minTTL</td>
                            <td colspan="3">The minimum TTL value for all of the domain's records</td>
                        </tr>
                        <tr>
                            <td colspan="1">expiry</td>
                            <td colspan="3">How long before a secondary server stops responding
                                to queries for the domain without successful update from the
                                primary DNS server</td>
                        </tr>
                        <tr>
                            <td colspan="1">serialNumber</td>
                            <td colspan="3">The revision number of the domain</td>
                        </tr>
                        <tr>
                            <td colspan="1">updateRetry</td>
                            <td colspan="3">NOTE: CHECK WITH AUTOHOST<remark>CHECK WITH AUTOHOST</remark></td>
                        </tr>
                        <tr>
                            <td colspan="1">externalOwnerId</td>
                            <td colspan="3">NOTE: CHECK WITH AUTOHOST<remark>CHECK WITH AUTOHOST</remark></td>
                        </tr>
                        <tr>
                            <td colspan="1">createdBy</td>
                            <td colspan="3">The customer number or the Racker username of the person
                                creating the domain</td>
                        </tr>
                        <tr>
                            <td colspan="1">updatedBy</td>
                            <td colspan="3">The customer number or the Racker username of the last person
                                to modify the domain</td>
                        </tr>
                        <tr align="center">
                            <th colspan="4">Record</th>
                        </tr>
                        <tr>
                            <td colspan="1">createdBy</td>
                            <td colspan="3">The customer number or the Racker username of the person
                                creating the record</td>
                        </tr>
                        <tr>
                            <td colspan="1">updatedBy</td>
                            <td colspan="3">The customer number or the Racker username of the last person
                                to modify the record</td>
                        </tr>
                    </tbody>
                </informaltable>
            </section>
            <section>
                <title>A Note About Asynchronous Responses</title>
                <para>Refer to the <link
                        xlink:href="http://docs.rackspace.com/cdns/api/v1.0/cdns-devguide/content/sync_asynch_responses.html"
                        >section on synchronous versus asynchronous
                        responses</link> in the <citetitle>Cloud DNS
                        Developer Guide</citetitle> for information
                    about how the Cloud DNS API handles potentially
                    long-running operations. Unlike asynchronous
                    operations in the public API, however, status
                    monitor URLs in the Cloud DNS Management API do
                    not include an account id segment: </para>
                    <example>
                        <title>Status Monitor URL</title>
                        <programlisting>https://dns.api.mgmt.rackspacecloud.com/v1.0/status/<parameter>jobId</parameter></programlisting>
                    </example>
                <para>The original request URL containing the account
                    id (<code>1234</code> in the following example) is
                    still available in the asynchronous response if
                    the request was user-centric:</para>
                <example>
                    <title>Fragment from Asynchronous Response Showing
                        requestURL with Account Id</title>
                    <programlisting>&lt;requestUrl>https://dns.api.rackspacecloud.com/v1.0/1234/domains&lt;/requestUrl></programlisting>
                </example>
                <para>However if the request was
                        <emphasis>not</emphasis> user-centric (such as
                    absolute limits and domain search), then the
                    account id is not available, since the request was
                    not performed by the Management API user on behalf
                    of a customer. </para>
            </section>
        </section>
        <section xml:id="user_limits">
            <title>User Limits</title>
            <para> The API operations described in this section list a user's assigned limit groups
                and manage those limit group assignments. A user is assigned to a set of default
                limit groups (one of each type) when the account is created. Using the API
                operations in this section, users can be custom-assigned to different groups and/or
                returned to default groups.</para>
            <section xml:id="list_users_assigned_limit_groups">
                <title>List User's Assigned Limit Groups</title>
                <para>This operation displays the limit groups to which a user is assigned.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="4">Description</td>
                            <td colspan="4">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&GET;</td>
                            <td colspan="2">/<parameter>1234</parameter>/limits</td>
                            <td colspan="4">List a user's assigned limit groups.</td>
                            <td colspan="4">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/1234/limits
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>200</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>List Assigned Groups Request: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group_request.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group_request.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Assigned Groups Request: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Assigned Groups Response: XML</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group_response.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group_response.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Assigned Groups Response: JSON</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
            <section xml:id="list_users_assigned_limit_group_of_specified_type">
                <title>List User's Assigned Limit Group of a Specified Type</title>
                <para>This operation displays the limit group of the specified type to which the
                    user has been assigned.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="4">Description</td>
                            <td colspan="4">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&GET;</td>
                            <td colspan="2">/<parameter>1234</parameter>/limits/<parameter>type</parameter></td>
                            <td colspan="4">List a user's assigned limit group for the specified type of limit.</td>
                            <td colspan="4">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/1234/limits/rate_limit
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>200</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>List Assigned Group of Type Request: XML</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group-type_request.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group-type_request.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Assigned Group of Type Request: JSON</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group-type_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group-type_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Assigned Group of Type Response: XML</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group-type_response.xml" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group-type_response.xml</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>List Assigned Group of Type Response: JSON</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-list-user-group-type_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-list-user-group-type_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
            <section xml:id="assign_user_to_limit_group">
                <title>Assign User to a Limit Group</title>
                <para>This operation assigns a user to a specified limit group.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="4">Description</td>
                            <td colspan="4">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&PUT;</td>
                            <td colspan="2">/<parameter>1234</parameter>/limits/<parameter>name</parameter></td>
                            <td colspan="4">Assign a user to a specified limit group.</td>
                            <td colspan="4">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/1234/limits/high_limit_customer_group
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>204</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>Assign User to Limit Group Request:</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-update-user-group_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-update-user-group_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Assign User to Limit Group Response</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-update-user-group_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-update-user-group_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
            <section xml:id="return_user_to_default_group_for_specific_type">
                <title>Return User to the Default Group for a Specific Type</title>
                <para>This operation removes the specified user from any custom-assigned groups
                    (groups to which they have been assigned using the Assign User to a Limit Group
                    call) and returns them to the default group for the specified type.</para>
                <informaltable rules="all">
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="4">Description</td>
                            <td colspan="4">Example</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="1">&DELETE;</td>
                            <td colspan="2">/<parameter>1234</parameter>/limits/<parameter>type</parameter></td>
                            <td colspan="4">Assign the user to the default group for the specified type.</td>
                            <td colspan="4">
                                https://dns.api.mgmt.rackspacecloud.com/v1.0/1234/limits/rate_limit
                            </td>
                        </tr>
                    </tbody>
                </informaltable>
                <simpara>
                    Normal Response Code(s): <returnvalue>204</returnvalue>
                </simpara>
                <simpara>
                    Error Response Code(s): dnsFault (<errorcode>400</errorcode>, <errorcode>500</errorcode>), 
                                            serviceUnavailable (<errorcode>503</errorcode>), 
                                            unauthorized (<errorcode>401</errorcode>)
                </simpara>
                <example>
                    <title>Assign Default Group Request:</title>
                    <?dbfo keep-together="always"?>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-delete-user-group_request.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-delete-user-group_request.json</xi:fallback></xi:include></programlisting>
                </example>
                <example>
                    <title>Assign Default Group Response</title>
                    <programlisting language="xml"><xi:include href="../../../target/samples/mgmt-dns-delete-user-group_response.json" parse="text"><xi:fallback><?rax fail?>Missing Sample: ../../../target/samples/mgmt-dns-delete-user-group_response.json</xi:fallback></xi:include></programlisting>
                </example>
            </section>
        </section>
        <?hard-pagebreak?>
    </chapter>
</book>
